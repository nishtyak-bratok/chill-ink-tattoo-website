<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chill Ink Tattoo - Художественная татуировка в Казани</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Preload critical resources for better performance -->
    <link rel="preload" href="gallery/renoit/renoit-work-1.jpg" as="image" fetchpriority="high">
    <link rel="preload" href="gallery/rocket/rocket-work-1.jpg" as="image" fetchpriority="high">
    <link rel="preload" href="logo.png" as="image">
    <link rel="stylesheet" href="styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                        'pacifico': ['Pacifico', 'cursive'],
                    },
                    colors: {
                        'purple': {
                            500: '#8b5cf6',
                            600: '#7c3aed',
                            700: '#6d28d9',
                        },
                        'orange': {
                            500: '#f97316',
                            600: '#ea580c',
                            700: '#dc2626',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .bg-gradient-purple-orange {
            background: linear-gradient(135deg, #8b5cf6 0%, #f97316 100%);
        }
        .text-gradient-purple-orange {
            background: linear-gradient(135deg, #8b5cf6 0%, #f97316 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Performance optimizations */
        * {
            box-sizing: border-box;
        }
        
        /* Optimize image rendering */
        img {
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            will-change: transform;
        }
        
        /* Optimize animations */
        .transition-opacity {
            will-change: opacity;
        }
        
        /* Optimize scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Optimize transforms */
        .hover\\:scale-105:hover {
            will-change: transform;
        }
        
        /* Optimize image loading and transitions */
        .work-preview img {
            transition: opacity 0.2s ease-in-out;
            will-change: transform;
            backface-visibility: hidden;
            /* Optimize for fast loading */
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            /* Force hardware acceleration */
            transform: translateZ(0);
        }
        
        /* Loading state for smooth transitions */
        .work-preview img.opacity-50 {
            opacity: 0.5;
            transition: opacity 0.2s ease-in-out;
        }
        
        /* Optimize thumbnail loading */
        .grid.grid-cols-2.gap-2 img {
            max-width: 100%;
            height: auto;
            object-fit: cover;
            /* Prevent layout shift during loading */
            min-height: 120px;
        }
    </style>
</head>
<body class="min-h-screen bg-black text-white">
    <!-- Header -->
    <header id="header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-transparent">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20 py-2">
                <!-- Logo -->
                <div class="flex items-center space-x-4">
                    <img src="logo.png" alt="Chill Ink Tattoo" class="w-20 h-20 rounded-full">
                    <span class="text-3xl font-bold text-white font-pacifico tracking-wide">Chill Ink Tattoo</span>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <button onclick="scrollToSection('hero')" class="text-gray-300 hover:text-purple-500 transition-colors duration-200">Главная</button>
                    <button onclick="scrollToSection('about')" class="text-gray-300 hover:text-purple-500 transition-colors duration-200">О нас</button>
                    <button onclick="scrollToSection('services')" class="text-gray-300 hover:text-purple-500 transition-colors duration-200">Услуги</button>
                    <button onclick="scrollToSection('portfolio')" class="text-gray-300 hover:text-purple-500 transition-colors duration-200">Портфолио</button>
                    <button onclick="scrollToSection('artists')" class="text-gray-300 hover:text-purple-500 transition-colors duration-200">Мастера</button>
                    <button onclick="scrollToSection('faq')" class="text-gray-300 hover:text-purple-500 transition-colors duration-200">FAQ</button>
                    <button onclick="scrollToSection('contact')" class="text-gray-300 hover:text-purple-500 transition-colors duration-200">Контакты</button>
                    <button onclick="scrollToSection('contact')" class="bg-gradient-to-r from-purple-600 to-orange-600 text-white px-6 py-2 rounded-full hover:from-purple-700 hover:to-orange-700 transition-all duration-200 transform hover:scale-105">
                        Записаться
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-btn" class="md:hidden text-white p-2">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>

            <!-- Mobile Navigation -->
            <div id="mobile-menu" class="md:hidden absolute top-20 left-0 right-0 bg-black/95 backdrop-blur-md border-t border-gray-800 hidden">
                <div class="px-4 py-6 space-y-4">
                    <button onclick="scrollToSection('hero')" class="block w-full text-left text-gray-300 hover:text-purple-500 transition-colors duration-200 py-2">Главная</button>
                    <button onclick="scrollToSection('about')" class="block w-full text-left text-gray-300 hover:text-purple-500 transition-colors duration-200 py-2">О нас</button>
                    <button onclick="scrollToSection('services')" class="block w-full text-left text-gray-300 hover:text-purple-500 transition-colors duration-200 py-2">Услуги</button>
                    <button onclick="scrollToSection('portfolio')" class="block w-full text-left text-gray-300 hover:text-purple-500 transition-colors duration-200 py-2">Портфолио</button>
                    <button onclick="scrollToSection('artists')" class="block w-full text-left text-gray-300 hover:text-purple-500 transition-colors duration-200 py-2">Мастера</button>
                    <button onclick="scrollToSection('faq')" class="block w-full text-left text-gray-300 hover:text-purple-500 transition-colors duration-200 py-2">FAQ</button>
                    <button onclick="scrollToSection('contact')" class="block w-full text-left text-gray-300 hover:text-purple-500 transition-colors duration-200 py-2">Контакты</button>
                    <button onclick="scrollToSection('contact')" class="w-full bg-gradient-to-r from-purple-600 to-orange-600 text-white px-6 py-3 rounded-full hover:from-purple-700 hover:to-orange-700 transition-all duration-200 mt-4">
                        Записаться
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="hero" class="relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-black via-gray-900 to-black pt-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="max-w-4xl mx-auto text-center">
                <!-- Main Content -->
                <div class="mb-8">
                    <h1 class="text-5xl md:text-7xl font-bold text-white mb-6 leading-tight">
                        <span class="bg-gradient-to-r from-purple-500 via-orange-500 to-purple-500 bg-clip-text text-transparent">
                            Chill Ink
                        </span>
                        <br />
                        <span class="text-white">Tattoo Studio</span>
                    </h1>
                    <p class="text-xl md:text-2xl text-gray-300 mb-8 max-w-2xl mx-auto leading-relaxed">
                        Профессиональные художественные татуировки в атмосфере комфорта и творчества. 
                        Воплощаем ваши идеи в искусство на коже.
                    </p>
                </div>

                <!-- Stats -->
                <div class="flex flex-wrap justify-center gap-8 mb-12">
                    <div class="flex items-center space-x-2 text-gray-300">
                        <i class="fas fa-star text-yellow-500 text-xl"></i>
                        <span class="text-lg">7+ лет опыта</span>
                    </div>
                    <div class="flex items-center space-x-2 text-gray-300">
                        <i class="fas fa-award text-purple-500 text-xl"></i>
                        <span class="text-lg">500+ работ</span>
                    </div>
                    <div class="flex items-center space-x-2 text-gray-300">
                        <i class="fas fa-clock text-orange-500 text-xl"></i>
                        <span class="text-lg">Ежедневно 10:00-21:00</span>
                    </div>
                </div>

                <!-- CTA Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                    <button onclick="scrollToSection('contact')" class="bg-gradient-to-r from-purple-600 to-orange-600 text-white px-8 py-4 rounded-full text-lg font-semibold hover:from-purple-700 hover:to-orange-700 transition-all duration-300 transform hover:scale-105 hover:shadow-lg">
                        Записаться на сеанс
                    </button>
                    <button onclick="scrollToSection('portfolio')" class="border-2 border-gray-500 text-gray-300 px-8 py-4 rounded-full text-lg font-semibold hover:border-purple-500 hover:text-purple-500 transition-all duration-300">
                        Смотреть работы
                    </button>
                </div>
                
                <!-- Hero Image -->
                <div class="mt-12 flex justify-center">
                    <img 
                        src="https://raw.githubusercontent.com/nishtyak-bratok/chill-ink-tattoo-website/main/portfolio-fox.jpg" 
                        alt="Интерьер тату студии Chill Ink" 
                        class="w-full max-w-2xl rounded-2xl shadow-2xl"
                    />
                </div>
            </div>
        </div>

        <!-- Scroll Indicator -->
        <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
            <div class="w-6 h-10 border-2 border-gray-400 rounded-full flex justify-center">
                <div class="w-1 h-3 bg-gray-400 rounded-full mt-2 animate-pulse"></div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 bg-gray-50 text-gray-900 pt-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gradient-purple-orange">О нашей студии</h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">Профессиональная тату-студия с многолетним опытом работы в сфере художественной татуировки</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h3 class="text-3xl font-bold mb-6 text-gray-900">Chill Ink Tattoo</h3>
                    <p class="text-lg text-gray-600 mb-8 leading-relaxed">
                        Мы - команда профессиональных тату-мастеров, работающих в сфере художественной татуировки уже много лет. 
                        Наша студия оснащена современным оборудованием и использует только качественные материалы.
                    </p>
                    
                    <div class="grid grid-cols-3 gap-8">
                        <div class="text-center">
                            <div class="text-4xl font-bold text-purple-600 mb-2">20+</div>
                            <div class="text-gray-600">Мастеров</div>
                        </div>
                        <div class="text-center">
                            <div class="text-4xl font-bold text-orange-600 mb-2">1000+</div>
                            <div class="text-gray-600">Довольных клиентов</div>
                        </div>
                        <div class="text-center">
                            <div class="text-4xl font-bold text-purple-600 mb-2">5+</div>
                            <div class="text-gray-600">Лет опыта</div>
                        </div>
                    </div>
                </div>
                
                <div class="relative">
                    <img 
                        src="https://raw.githubusercontent.com/nishtyak-bratok/chill-ink-tattoo-website/main/portfolio-dragon.jpg" 
                        alt="Команда Chill Ink Tattoo" 
                        class="w-full rounded-2xl shadow-2xl"
                    />
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-20 bg-white text-gray-900 pt-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gradient-purple-orange">Наши услуги</h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">Полный спектр услуг по художественной татуировке</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                    <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center mb-6 mx-auto">
                        <i class="fas fa-paint-brush text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-center">Художественная татуировка</h3>
                    <p class="text-gray-600 text-center">Татуировки любой сложности - от простых эскизов до сложных художественных композиций</p>
                </div>
                
                <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                    <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center mb-6 mx-auto">
                        <i class="fas fa-redo text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-center">Перекрытие старых татуировок</h3>
                    <p class="text-gray-600 text-center">Профессиональное перекрытие старых или неудачных татуировок новыми работами</p>
                </div>
                
                <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                    <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center mb-6 mx-auto">
                        <i class="fas fa-tools text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-center">Исправление татуировок</h3>
                    <p class="text-gray-600 text-center">Коррекция и доработка существующих татуировок для улучшения их внешнего вида</p>
                </div>
                
                <div class="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100">
                    <div class="w-16 h-16 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center mb-6 mx-auto">
                        <i class="fas fa-laser text-white text-2xl"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-4 text-center">Лазерное удаление</h3>
                    <p class="text-gray-600 text-center">Современные методы удаления татуировок с помощью лазерных технологий</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Portfolio Section -->
    <section id="portfolio" class="py-20 bg-gray-50 text-gray-900 pt-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gradient-purple-orange">Портфолио</h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">Лучшие работы наших мастеров</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105">
                    <img src="https://raw.githubusercontent.com/nishtyak-bratok/chill-ink-tattoo-website/main/portfolio-fox.jpg" alt="Лиса - работа Алексея Renoit" class="w-full h-80 object-cover group-hover:scale-110 transition-transform duration-300">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div class="text-white">
                            <h4 class="text-xl font-bold mb-2">Лиса</h4>
                            <p class="text-gray-300">Реализм • Алексей Renoit</p>
                        </div>
                    </div>
                </div>
                
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105">
                    <img src="https://raw.githubusercontent.com/nishtyak-bratok/chill-ink-tattoo-website/main/portfolio-kitsune.jpg" alt="Маска Кицунэ - работа Алексея Renoit" class="w-full h-80 object-cover group-hover:scale-110 transition-transform duration-300">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div class="text-white">
                            <h4 class="text-xl font-bold mb-2">Маска Кицунэ</h4>
                            <p class="text-gray-300">Японская традиция • Алексей Renoit</p>
                        </div>
                    </div>
                </div>
                
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105">
                    <img src="https://raw.githubusercontent.com/nishtyak-bratok/chill-ink-tattoo-website/main/portfolio-owl.jpg" alt="Сова - работа Алексея Renoit" class="w-full h-80 object-cover group-hover:scale-110 transition-transform duration-300">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div class="text-white">
                            <h4 class="text-xl font-bold mb-2">Сова</h4>
                            <p class="text-gray-300">Реализм • Алексей Renoit</p>
                        </div>
                    </div>
                </div>
                
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105">
                    <img src="https://raw.githubusercontent.com/nishtyak-bratok/chill-ink-tattoo-website/main/portfolio-dragon.jpg" alt="Дракон - работа Алексея Renoit" class="w-full h-80 object-cover group-hover:scale-110 transition-transform duration-300">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div class="text-white">
                            <h4 class="text-xl font-bold mb-2">Дракон</h4>
                            <p class="text-gray-300">Фэнтези • Алексей Renoit</p>
                        </div>
                    </div>
                </div>
                
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105">
                    <img src="https://raw.githubusercontent.com/nishtyak-bratok/chill-ink-tattoo-website/main/portfolio-anime.jpg" alt="Аниме персонаж - работа Алексея Renoit" class="w-full h-80 object-cover group-hover:scale-110 transition-transform duration-300">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div class="text-white">
                            <h4 class="text-xl font-bold mb-2">Аниме персонаж</h4>
                            <p class="text-gray-300">Аниме стиль • Алексей Renoit</p>
                        </div>
                    </div>
                </div>
                
                <div class="group relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105">
                    <img src="https://raw.githubusercontent.com/nishtyak-bratok/chill-ink-tattoo-website/main/portfolio-flower.jpg" alt="Цветок - работа Алексея Renoit" class="w-full h-80 object-cover group-hover:scale-110 transition-transform duration-300">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div class="text-white">
                            <h4 class="text-xl font-bold mb-2">Цветок</h4>
                            <p class="text-gray-300">Дотворк • Алексей Renoit</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Artists Section -->
    <section id="artists" class="py-20 bg-white text-gray-900 pt-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gradient-purple-orange">Наши мастера</h2>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">20+ профессиональных тату-мастеров с многолетним опытом</p>
                
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-purple-500 relative overflow-hidden cursor-pointer" onclick="openMasterGallery('renoit')">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-purple-500 to-orange-500"></div>
                    <div class="text-center">
                        <div class="relative w-20 h-20 mx-auto mb-2 rounded-full overflow-hidden border-2 border-white shadow-lg cursor-pointer" onclick="event.stopPropagation(); openLightbox('gallery/renoit/master-photo.jpg', 'Алексей Renoit', 'Алексей Renoit', 'Мастер графической татуировки с 10+ летним опытом')">
                            <img src="gallery/renoit/master-photo.jpg" alt="Алексей Renoit" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-purple-500/80 to-orange-500/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-xs font-bold">10+ лет</div>
                                    <div class="text-xs">Графика</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <i class="fas fa-search-plus text-white text-xs"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold mb-1 text-gray-800">Алексей</h3>
                        <div class="text-center mb-2">
                            <p class="text-purple-600 font-medium text-sm mb-0.5">Специализация: Графика</p>
                            <p class="text-gray-600 text-sm mb-0.5">Опыт работы: 10+ лет</p>
                            <p class="text-purple-600 font-medium text-sm">🏛️ Резидент студии</p>
                        </div>
                        
                        <!-- Works Preview -->
                        <div class="mb-3">
                            <div class="grid grid-cols-2 gap-2 mb-2" style="max-width: 240px; margin: 0 auto;">
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('renoit'); setTimeout(() => highlightWorkInGallery('renoit', 1), 500);">
                                    <img src="gallery/renoit/renoit-work-1.jpg" alt="Работа 1" class="w-full h-full object-cover" loading="lazy" fetchpriority="high" decoding="async">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('renoit'); setTimeout(() => highlightWorkInGallery('renoit', 2), 500);">
                                    <img src="gallery/renoit/renoit-work-2.jpg" alt="Работа 2" class="w-full h-full object-cover" loading="lazy" decoding="async">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('renoit'); setTimeout(() => highlightWorkInGallery('renoit', 3), 500);">
                                    <img src="gallery/renoit/renoit-work-3.jpg" alt="Работа 3" class="w-full h-full object-cover" loading="lazy" decoding="async">
                                </div>
                                <button onclick="event.stopPropagation(); openMasterGallery('renoit')" class="aspect-square bg-gradient-to-br from-purple-500 to-orange-500 text-white rounded-lg flex flex-col items-center justify-center hover:from-purple-600 hover:to-orange-600 transition-all duration-200">
                                    <i class="fas fa-images text-sm mb-1"></i>
                                    <span class="text-sm font-medium">Показать больше</span>
                                </button>
                            </div>
                        </div>
                        
                        <button onclick="openBookingModal('Алексей')" class="bg-gradient-to-r from-purple-500 to-orange-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-orange-600 transition-all duration-200 transform hover:scale-105 text-sm" style="width: calc(100px + 6px); margin: 0 auto; display: block;">
                            Записаться
                        </button>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-orange-500 relative overflow-hidden cursor-pointer" onclick="openMasterGallery('rocket')">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-orange-500 to-purple-500"></div>
                    <div class="text-center">
                        <div class="relative w-20 h-20 mx-auto mb-2 rounded-full overflow-hidden border-2 border-white shadow-lg cursor-pointer" onclick="event.stopPropagation(); openLightbox('gallery/rocket/master-photo.jpg', 'Булат Rocket', 'Булат Rocket', 'Мастер графической татуировки с 10+ летним опытом')">
                            <img src="gallery/rocket/master-photo.jpg" alt="Булат Rocket" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-orange-500/80 to-purple-500/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-xs font-bold">10+ лет</div>
                                    <div class="text-xs">Графика</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <i class="fas fa-search-plus text-white text-xs"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold mb-1 text-gray-800">Булат</h3>
                        <div class="text-center mb-2">
                            <p class="text-orange-600 font-medium text-sm mb-0.5">Специализация: Графика</p>
                            <p class="text-gray-600 text-sm mb-0.5">Опыт работы: 10+ лет</p>
                            <p class="text-orange-600 font-medium text-sm">🏛️ Резидент студии</p>
                        </div>
                        
                        <!-- Works Preview -->
                        <div class="mb-3">
                            <div class="grid grid-cols-2 gap-2 mb-2" style="max-width: 240px; margin: 0 auto;">
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('rocket'); setTimeout(() => highlightWorkInGallery('rocket', 1), 500);">
                                    <img src="gallery/rocket/rocket-work-1.jpg" alt="Работа 1" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('rocket'); setTimeout(() => highlightWorkInGallery('rocket', 2), 500);">
                                    <img src="gallery/rocket/rocket-work-2.jpg" alt="Работа 2" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('rocket'); setTimeout(() => highlightWorkInGallery('rocket', 3), 500);">
                                    <img src="gallery/rocket/rocket-work-3.jpg" alt="Работа 3" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <button onclick="event.stopPropagation(); openMasterGallery('rocket')" class="aspect-square bg-gradient-to-br from-orange-500 to-purple-500 text-white rounded-lg flex flex-col items-center justify-center hover:from-orange-600 hover:to-purple-600 transition-all duration-200">
                                    <i class="fas fa-images text-sm mb-1"></i>
                                    <span class="text-sm font-medium">Показать больше</span>
                                </button>
                            </div>
                        </div>
                        <button onclick="openBookingModal('Булат')" class="bg-gradient-to-r from-orange-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-orange-600 hover:to-purple-600 transition-all duration-200 transform hover:scale-105 text-sm" style="width: calc(100px + 6px); margin: 0 auto; display: block;">
                            Записаться
                        </button>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-red-500 relative overflow-hidden cursor-pointer" onclick="openMasterGallery('lozhkin')">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-500 to-pink-500"></div>
                    <div class="text-center">
                        <div class="relative w-20 h-20 mx-auto mb-2 rounded-full overflow-hidden border-2 border-white shadow-lg cursor-pointer" onclick="event.stopPropagation(); openLightbox('gallery/lozhkin/master-photo.jpg', 'Арсений', 'Арсений', 'Мастер японской татуировки с 8+ летним опытом')">
                            <img src="gallery/lozhkin/master-photo.jpg" alt="Арсений Ложкин" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-red-500/80 to-pink-500/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-xs font-bold">8+ лет</div>
                                    <div class="text-xs">Японская</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <i class="fas fa-search-plus text-white text-xs"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold mb-1 text-gray-800">Арсений</h3>
                        <div class="text-center mb-3">
                            <p class="text-red-600 font-medium text-sm mb-1">Специализация: Японская татуировка</p>
                            <p class="text-gray-600 text-sm mb-1">Опыт работы: 8+ лет</p>
                            <p class="text-red-600 font-medium text-sm">🏛️ Резидент студии</p>
                        </div>
                        
                        <!-- Works Preview -->
                        <div class="mb-3">
                            <div class="grid grid-cols-2 gap-2 mb-2" style="max-width: 240px; margin: 0 auto;">
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('lozhkin'); setTimeout(() => highlightWorkInGallery('lozhkin', 1), 500);">
                                    <img src="gallery/lozhkin/lozhkin-work-1.jpg" alt="Работа 1" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('lozhkin'); setTimeout(() => highlightWorkInGallery('lozhkin', 2), 500);">
                                    <img src="gallery/lozhkin/lozhkin-work-2.jpg" alt="Работа 2" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('lozhkin'); setTimeout(() => highlightWorkInGallery('lozhkin', 3), 500);">
                                    <img src="gallery/lozhkin/lozhkin-work-3.jpg" alt="Работа 3" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <button onclick="event.stopPropagation(); openMasterGallery('lozhkin')" class="aspect-square bg-gradient-to-br from-red-500 to-pink-500 text-white rounded-lg flex flex-col items-center justify-center hover:from-red-600 hover:to-pink-600 transition-all duration-200">
                                    <i class="fas fa-images text-sm mb-1"></i>
                                    <span class="text-sm font-medium">Показать больше</span>
                                </button>
                            </div>
                        </div>
                        <button onclick="openBookingModal('Арсений')" class="bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-2 rounded-lg hover:from-red-600 hover:to-pink-600 transition-all duration-200 transform hover:scale-105 text-sm" style="width: calc(100px + 6px); margin: 0 auto; display: block;">
                            Записаться
                        </button>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-pink-500 relative overflow-hidden cursor-pointer" onclick="openMasterGallery('nastasia')">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-pink-500 to-red-500"></div>
                    <div class="text-center">
                        <div class="relative w-20 h-20 mx-auto mb-2 rounded-full overflow-hidden border-2 border-white shadow-lg cursor-pointer" onclick="event.stopPropagation(); openLightbox('gallery/nastasia/master-photo.jpg', 'Анастасия', 'Анастасия', 'Мастер реализма и чикано с 10+ летним опытом')">
                            <img src="gallery/nastasia/master-photo.jpg" alt="Анастасия Красное Микеланджело" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-pink-500/80 to-red-500/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-xs font-bold">10+ лет</div>
                                    <div class="text-xs">Реализм</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <i class="fas fa-search-plus text-white text-xs"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold mb-1 text-gray-800">Анастасия</h3>
                        <div class="text-center mb-3">
                            <p class="text-pink-600 font-medium text-sm mb-1">Специализация: Реализм, Чикано</p>
                            <p class="text-gray-600 text-sm mb-1">Опыт работы: 10+ лет</p>
                            <p class="text-pink-600 font-medium text-sm">🏛️ Резидент студии</p>
                        </div>
                        
                        <!-- Works Preview -->
                        <div class="mb-3">
                            <div class="grid grid-cols-2 gap-2 mb-2" style="max-width: 240px; margin: 0 auto;">
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('nastasia'); setTimeout(() => highlightWorkInGallery('nastasia', 1), 500);">
                                    <img src="gallery/nastasia/nastasia-work-1.jpg" alt="Работа 1" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('nastasia'); setTimeout(() => highlightWorkInGallery('nastasia', 2), 500);">
                                    <img src="gallery/nastasia/nastasia-work-2.jpg" alt="Работа 2" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('nastasia'); setTimeout(() => highlightWorkInGallery('nastasia', 3), 500);">
                                    <img src="gallery/nastasia/nastasia-work-3.jpg" alt="Работа 3" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <button onclick="event.stopPropagation(); openMasterGallery('nastasia')" class="aspect-square bg-gradient-to-br from-pink-500 to-red-500 text-white rounded-lg flex flex-col items-center justify-center hover:from-pink-600 hover:to-red-600 transition-all duration-200">
                                    <i class="fas fa-images text-sm mb-1"></i>
                                    <span class="text-sm font-medium">Показать больше</span>
                                </button>
                            </div>
                        </div>
                        <button onclick="openBookingModal('Анастасия')" class="bg-gradient-to-r from-pink-500 to-red-500 text-white px-4 py-2 rounded-lg hover:from-pink-600 hover:to-red-600 transition-all duration-200 transform hover:scale-105 text-sm" style="width: calc(100px + 6px); margin: 0 auto; display: block;">
                            Записаться
                        </button>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-teal-500 relative overflow-hidden cursor-pointer" onclick="openMasterGallery('dina')">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-teal-500 to-cyan-500"></div>
                    <div class="text-center">
                        <div class="relative w-20 h-20 mx-auto mb-2 rounded-full overflow-hidden border-2 border-white shadow-lg cursor-pointer" onclick="event.stopPropagation(); openLightbox('gallery/dina/master-photo.jpg', 'Дина Synthetica', 'Дина Synthetica', 'Мастер акварельной и ботанической татуировки с 8-летним опытом')">
                            <img src="gallery/dina/master-photo.jpg" alt="Дина Synthetica" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-teal-500/80 to-cyan-500/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-xs font-bold">8 лет</div>
                                    <div class="text-xs">Акварель</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <i class="fas fa-search-plus text-white text-xs"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold mb-1 text-gray-800">Дина</h3>
                        <div class="text-center mb-3">
                            <p class="text-teal-600 font-medium text-sm mb-1">Специализация: Акварельная, Ботаническая</p>
                            <p class="text-gray-600 text-sm mb-1">Опыт работы: 8 лет</p>
                            <p class="text-teal-600 font-medium text-sm">🏛️ Резидент студии</p>
                        </div>
                        
                        <!-- Works Preview -->
                        <div class="mb-3">
                            <div class="grid grid-cols-2 gap-2 mb-2" style="max-width: 240px; margin: 0 auto;">
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('dina'); setTimeout(() => highlightWorkInGallery('dina', 1), 500);">
                                    <img src="gallery/dina/dina-work-1.jpg" alt="Работа 1" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('dina'); setTimeout(() => highlightWorkInGallery('dina', 2), 500);">
                                    <img src="gallery/dina/dina-work-2.jpg" alt="Работа 2" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('dina'); setTimeout(() => highlightWorkInGallery('dina', 3), 500);">
                                    <img src="gallery/dina/dina-work-3.JPEG" alt="Работа 3" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <button onclick="event.stopPropagation(); openMasterGallery('dina')" class="aspect-square bg-gradient-to-br from-teal-500 to-cyan-500 text-white rounded-lg flex flex-col items-center justify-center hover:from-teal-600 hover:to-cyan-600 transition-all duration-200">
                                    <i class="fas fa-images text-sm mb-1"></i>
                                    <span class="text-sm font-medium">Показать больше</span>
                                </button>
                            </div>
                        </div>
                        <button onclick="openBookingModal('Дина')" class="w-full bg-gradient-to-r from-teal-500 to-cyan-500 text-white px-4 py-2 rounded-lg hover:from-teal-600 hover:to-cyan-600 transition-all duration-200 transform hover:scale-105 text-sm">
                            Записаться
                        </button>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-indigo-500 relative overflow-hidden cursor-pointer" onclick="openMasterGallery('barabanov')">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 to-purple-500"></div>
                    <div class="text-center">
                        <div class="relative w-20 h-20 mx-auto mb-2 rounded-full overflow-hidden border-2 border-white shadow-lg cursor-pointer" onclick="event.stopPropagation(); openLightbox('gallery/barabanov/master-photo.jpg', 'Михаил Барабанов', 'Михаил Барабанов', 'Гостевой мастер neotraditional стиля из Ижевска с 10+ летним опытом')">
                            <img src="gallery/barabanov/master-photo.jpg" alt="Михаил Барабанов" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-indigo-500/80 to-purple-500/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-xs font-bold">10+ лет</div>
                                    <div class="text-xs">Neotraditional</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <i class="fas fa-search-plus text-white text-xs"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold mb-1 text-gray-800">Михаил Б.</h3>
                        <div class="text-center mb-3">
                            <p class="text-indigo-600 font-medium text-sm mb-1">Специализация: Neotraditional</p>
                            <p class="text-gray-600 text-sm mb-1">Опыт работы: 10+ лет</p>
                            <p class="text-indigo-600 font-medium text-sm">🌍 Гостевой мастер</p>
                            <p class="text-gray-500 text-xs">г. Ижевск</p>
                        </div>
                        
                        <!-- Works Preview -->
                        <div class="mb-3">
                            <div class="grid grid-cols-2 gap-2 mb-2" style="max-width: 240px; margin: 0 auto;">
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('barabanov'); setTimeout(() => highlightWorkInGallery('barabanov', 1), 500);">
                                    <img src="gallery/barabanov/barabanov-work-1.JPG" alt="Работа 1" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('barabanov'); setTimeout(() => highlightWorkInGallery('barabanov', 2), 500);">
                                    <img src="gallery/barabanov/barabanov-work-2.JPG" alt="Работа 2" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('barabanov'); setTimeout(() => highlightWorkInGallery('barabanov', 3), 500);">
                                    <img src="gallery/barabanov/barabanov-work-3.JPG" alt="Работа 3" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <button onclick="event.stopPropagation(); openMasterGallery('barabanov')" class="aspect-square bg-gradient-to-br from-indigo-500 to-purple-500 text-white rounded-lg flex flex-col items-center justify-center hover:from-indigo-600 hover:to-purple-600 transition-all duration-200">
                                    <i class="fas fa-images text-sm mb-1"></i>
                                    <span class="text-sm font-medium">Показать больше</span>
                                </button>
                            </div>
                        </div>
                        <button onclick="openWaitingListModal('Михаил Б.')" class="w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 transform hover:scale-105 text-sm">
                            Записаться в лист ожидания
                        </button>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-emerald-500 relative overflow-hidden cursor-pointer" onclick="openMasterGallery('flo')">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-emerald-500 to-teal-500"></div>
                    <div class="text-center">
                        <div class="relative w-20 h-20 mx-auto mb-2 rounded-full overflow-hidden border-2 border-white shadow-lg cursor-pointer" onclick="event.stopPropagation(); openLightbox('gallery/flo/master-photo.jpg', 'Фларик Ахметов', 'Фларик Ахметов', 'Мастер орнаментальной, полинезийской и борнео татуировки с 10+ летним опытом')">
                            <img src="gallery/flo/master-photo.jpg" alt="Фларик Ахметов" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-emerald-500/80 to-teal-500/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-xs font-bold">10+ лет</div>
                                    <div class="text-xs">Орнаментал</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <i class="fas fa-search-plus text-white text-xs"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold mb-1 text-gray-800">Фларик</h3>
                        <div class="text-center mb-3">
                            <p class="text-emerald-600 font-medium text-sm mb-1">Специализация: Орнаментал, Полинезия, Борнео</p>
                            <p class="text-gray-600 text-sm mb-1">Опыт работы: 10+ лет</p>
                            <p class="text-emerald-600 font-medium text-sm">🏛️ Резидент студии</p>
                        </div>
                        
                        <!-- Works Preview -->
                        <div class="mb-3">
                            <div class="grid grid-cols-2 gap-2 mb-2" style="max-width: 240px; margin: 0 auto;">
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('flo'); setTimeout(() => highlightWorkInGallery('flo', 1), 500);">
                                    <img src="gallery/flo/flo-work-1.JPG" alt="Работа 1" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('flo'); setTimeout(() => highlightWorkInGallery('flo', 2), 500);">
                                    <img src="gallery/flo/flo-work-2.JPG" alt="Работа 2" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('flo'); setTimeout(() => highlightWorkInGallery('flo', 3), 500);">
                                    <img src="gallery/flo/flo-work-3.jpg" alt="Работа 3" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <button onclick="event.stopPropagation(); openMasterGallery('flo')" class="aspect-square bg-gradient-to-br from-emerald-500 to-teal-500 text-white rounded-lg flex flex-col items-center justify-center hover:from-emerald-600 hover:to-teal-600 transition-all duration-200">
                                    <i class="fas fa-images text-sm mb-1"></i>
                                    <span class="text-sm font-medium">Показать больше</span>
                                </button>
                            </div>
                        </div>
                        <button onclick="openBookingModal('Фларик')" class="w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-4 py-2 rounded-lg hover:from-emerald-600 hover:to-teal-600 transition-all duration-200 transform hover:scale-105 text-sm">
                            Записаться
                        </button>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-gray-500 relative overflow-hidden cursor-pointer" onclick="openMasterGallery('atlasov')">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-gray-500 to-slate-500"></div>
                    <div class="text-center">
                        <div class="relative w-20 h-20 mx-auto mb-2 rounded-full overflow-hidden border-2 border-white shadow-lg cursor-pointer" onclick="event.stopPropagation(); openLightbox('gallery/atlasov/master-photo.jpg', 'Михаил Атласов', 'Михаил Атласов', 'Мастер минималистичной татуировки с 10+ летним опытом')">
                            <img src="gallery/atlasov/master-photo.jpg" alt="Михаил Атласов" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-gray-500/80 to-slate-500/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-xs font-bold">10+ лет</div>
                                    <div class="text-xs">Минимализм</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <i class="fas fa-search-plus text-white text-xs"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold mb-1 text-gray-800">Михаил А.</h3>
                        <div class="text-center mb-3">
                            <p class="text-gray-600 font-medium text-sm mb-1">Специализация: Минималистичная татуировка</p>
                            <p class="text-gray-600 text-sm mb-1">Опыт работы: 10+ лет</p>
                            <p class="text-gray-600 font-medium text-sm">🏛️ Резидент студии</p>
                        </div>
                        
                        <!-- Works Preview -->
                        <div class="mb-3">
                            <div class="grid grid-cols-2 gap-2 mb-2" style="max-width: 240px; margin: 0 auto;">
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('atlasov'); setTimeout(() => highlightWorkInGallery('atlasov', 1), 500);">
                                    <img src="gallery/atlasov/atlasov-work-1.jpg" alt="Работа 1" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('atlasov'); setTimeout(() => highlightWorkInGallery('atlasov', 2), 500);">
                                    <img src="gallery/atlasov/atlasov-work-2.jpg" alt="Работа 2" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('atlasov'); setTimeout(() => highlightWorkInGallery('atlasov', 3), 500);">
                                    <img src="gallery/atlasov/atlasov-work-3.jpg" alt="Работа 3" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <button onclick="event.stopPropagation(); openMasterGallery('atlasov')" class="aspect-square bg-gradient-to-br from-gray-500 to-slate-500 text-white rounded-lg flex flex-col items-center justify-center hover:from-gray-600 hover:to-slate-600 transition-all duration-200">
                                    <i class="fas fa-images text-sm mb-1"></i>
                                    <span class="text-sm font-medium">Показать больше</span>
                                </button>
                            </div>
                        </div>
                        <button onclick="openBookingModal('Михаил А.')" class="w-full bg-gradient-to-r from-gray-500 to-slate-500 text-white px-4 py-2 rounded-lg hover:from-gray-600 hover:to-slate-600 transition-all duration-200 transform hover:scale-105 text-sm">
                            Записаться
                        </button>
                    </div>
                </div>
                
                <div class="bg-white p-6 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border-2 border-indigo-500 relative overflow-hidden cursor-pointer" onclick="openMasterGallery('leyla')">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 to-purple-500"></div>
                    <div class="text-center">
                        <div class="relative w-20 h-20 mx-auto mb-2 rounded-full overflow-hidden border-2 border-white shadow-lg cursor-pointer" onclick="event.stopPropagation(); openLightbox('gallery/leyla/master-photo.jpg', 'Лейла', 'Лейла', 'Мастер орнаментальной татуировки с 5-летним опытом')">
                            <img src="gallery/leyla/master-photo.jpg" alt="Лейла" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                            <div class="absolute inset-0 bg-gradient-to-t from-indigo-500/80 to-purple-500/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <div class="text-white text-center">
                                    <div class="text-xs font-bold">5 лет</div>
                                    <div class="text-xs">Орнаментал</div>
                                </div>
                            </div>
                            <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                                <i class="fas fa-search-plus text-white text-xs"></i>
                            </div>
                        </div>
                        <h3 class="text-xl font-bold mb-1 text-gray-800">Лейла</h3>
                        <div class="text-center mb-3">
                            <p class="text-indigo-600 font-medium text-sm mb-1">Специализация: Орнаментальная татуировка</p>
                            <p class="text-gray-600 text-sm mb-1">Опыт работы: 5 лет</p>
                            <p class="text-indigo-600 font-medium text-sm">🏛️ Резидент студии</p>
                        </div>
                        
                        <!-- Works Preview -->
                        <div class="mb-3">
                            <div class="grid grid-cols-2 gap-2 mb-2" style="max-width: 240px; margin: 0 auto;">
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('leyla'); setTimeout(() => highlightWorkInGallery('leyla', 1), 500);">
                                    <img src="gallery/leyla/leyla-work-1.jpg" alt="Работа 1" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('leyla'); setTimeout(() => highlightWorkInGallery('leyla', 2), 500);">
                                    <img src="gallery/leyla/leyla-work-2.jpg" alt="Работа 2" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <div class="aspect-square rounded-lg overflow-hidden cursor-pointer hover:opacity-80 transition-opacity" onclick="event.stopPropagation(); openMasterGallery('leyla'); setTimeout(() => highlightWorkInGallery('leyla', 3), 500);">
                                    <img src="gallery/leyla/leyla-work-3.jpg" alt="Работа 3" class="w-full h-full object-cover" loading="lazy">
                                </div>
                                <button onclick="event.stopPropagation(); openMasterGallery('leyla')" class="aspect-square bg-gradient-to-br from-indigo-500 to-purple-500 text-white rounded-lg flex flex-col items-center justify-center hover:from-indigo-600 hover:to-purple-600 transition-all duration-200">
                                    <i class="fas fa-images text-sm mb-1"></i>
                                    <span class="text-sm font-medium">Показать больше</span>
                                </button>
                            </div>
                        </div>
                        <button onclick="openBookingModal('Лейла')" class="w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 transform hover:scale-105 text-sm">
                            Записаться
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-gradient-to-br from-black via-gray-900 to-black text-white pt-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gradient-purple-orange">Контакты</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">Свяжитесь с нами для записи на сеанс</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-12">
                <div class="space-y-8">
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-envelope text-white"></i>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold mb-1">Email</h4>
                            <p class="text-gray-300">chillink.kzn@gmail.com</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-phone text-white"></i>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold mb-1">Телефон</h4>
                            <p class="text-gray-300">+7 (939) 383-08-71</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center">
                            <i class="fab fa-telegram text-white"></i>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold mb-1">Telegram</h4>
                            <p class="text-gray-300">@chillinktattoos</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-4">
                        <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center">
                            <i class="fab fa-instagram text-white"></i>
                        </div>
                        <div>
                            <h4 class="text-xl font-bold mb-1">Instagram</h4>
                            <p class="text-gray-300">@chill_ink_studio</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white/10 backdrop-blur-md p-8 rounded-2xl">
                    <form class="space-y-6">
                        <div>
                            <input type="text" placeholder="Ваше имя" class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500 transition-colors">
                        </div>
                        <div>
                            <input type="tel" placeholder="Телефон" class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500 transition-colors">
                        </div>
                        <div>
                            <textarea placeholder="Опишите желаемую татуировку" rows="4" class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-purple-500 transition-colors resize-none"></textarea>
                        </div>
                        <button type="submit" class="w-full bg-gradient-to-r from-purple-600 to-orange-600 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:from-purple-700 hover:to-orange-700 transition-all duration-300 transform hover:scale-105">
                            Отправить заявку
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-20 bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white pt-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold mb-6 text-gradient-purple-orange">Часто задаваемые вопросы</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto">Ответы на самые популярные вопросы о татуировках</p>
            </div>
            
            <div class="max-w-4xl mx-auto space-y-8">
                <!-- FAQ Item 1 -->
                <div class="faq-item bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-purple-500/50 transition-all duration-300">
                    <button class="faq-question w-full text-left flex justify-between items-center group">
                        <h3 class="text-xl font-semibold text-white group-hover:text-purple-400 transition-colors">Больно ли делать татуировку?</h3>
                        <i class="fas fa-chevron-down text-purple-400 transform transition-transform duration-300 faq-icon"></i>
                    </button>
                    <div class="faq-answer mt-6 hidden">
                        <div class="grid md:grid-cols-2 gap-6 items-center">
                            <div>
                                <p class="text-gray-300 leading-relaxed mb-4">
                                    Процедура нанесения татуировки связана с повреждением кожного покрова и нервных окончаний, что может вызывать дискомфорт. Однако уровень боли индивидуален и зависит от болевого порога каждого человека. Некоторые области тела более чувствительны, чем другие.
                                </p>
                                <p class="text-gray-300 leading-relaxed">
                                    Наши мастера используют современные обезболивающие средства и техники, чтобы минимизировать неприятные ощущения во время сеанса.
                                </p>
                            </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1594736797933-d0401ba2fe65?w=500&h=400&fit=crop&crop=center" 
                                     alt="Татуировка на плече" 
                                     class="w-full h-64 object-cover rounded-xl shadow-2xl">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-xl"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 2 -->
                <div class="faq-item bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-purple-500/50 transition-all duration-300">
                    <button class="faq-question w-full text-left flex justify-between items-center group">
                        <h3 class="text-xl font-semibold text-white group-hover:text-purple-400 transition-colors">Как ухаживать за татуировкой после нанесения?</h3>
                        <i class="fas fa-chevron-down text-purple-400 transform transition-transform duration-300 faq-icon"></i>
                    </button>
                    <div class="faq-answer mt-6 hidden">
                        <div class="grid md:grid-cols-2 gap-6 items-center">
                            <div>
                                <p class="text-gray-300 leading-relaxed mb-4">
                                    После сеанса важно соблюдать рекомендации мастера: держать татуировку чистой, избегать прямого солнечного света и не мочить её в течение первых дней. Используйте специальные заживляющие мази и избегайте физических нагрузок.
                                </p>
                                <p class="text-gray-300 leading-relaxed">
                                    Мы предоставляем подробную инструкцию по уходу и рекомендуем качественные средства для заживления.
                                </p>
                            </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1611915387288-fd8d2f5f928b?w=500&h=400&fit=crop&crop=center" 
                                     alt="Уход за татуировкой" 
                                     class="w-full h-64 object-cover rounded-xl shadow-2xl">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-xl"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 3 -->
                <div class="faq-item bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-purple-500/50 transition-all duration-300">
                    <button class="faq-question w-full text-left flex justify-between items-center group">
                        <h3 class="text-xl font-semibold text-white group-hover:text-purple-400 transition-colors">Сколько времени занимает заживление татуировки?</h3>
                        <i class="fas fa-chevron-down text-purple-400 transform transition-transform duration-300 faq-icon"></i>
                    </button>
                    <div class="faq-answer mt-6 hidden">
                        <div class="grid md:grid-cols-2 gap-6 items-center">
                            <div>
                                <p class="text-gray-300 leading-relaxed mb-4">
                                    Полное заживление обычно занимает от 2 до 4 недель, в зависимости от индивидуальных особенностей организма и размера татуировки. В этот период важно следовать рекомендациям по уходу, чтобы избежать осложнений.
                                </p>
                                <p class="text-gray-300 leading-relaxed">
                                    Первые несколько дней татуировка может быть чувствительной и слегка опухшей - это нормальная реакция организма.
                                </p>
                            </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=500&h=400&fit=crop&crop=center" 
                                     alt="Заживающая татуировка" 
                                     class="w-full h-64 object-cover rounded-xl shadow-2xl">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-xl"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 4 -->
                <div class="faq-item bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-purple-500/50 transition-all duration-300">
                    <button class="faq-question w-full text-left flex justify-between items-center group">
                        <h3 class="text-xl font-semibold text-white group-hover:text-purple-400 transition-colors">Можно ли удалить татуировку, если она разонравилась?</h3>
                        <i class="fas fa-chevron-down text-purple-400 transform transition-transform duration-300 faq-icon"></i>
                    </button>
                    <div class="faq-answer mt-6 hidden">
                        <div class="grid md:grid-cols-2 gap-6 items-center">
                            <div>
                                <p class="text-gray-300 leading-relaxed mb-4">
                                    Да, современные методы, такие как лазерное удаление, позволяют эффективно удалить татуировку. Однако процесс может быть длительным и требовать нескольких сеансов. Также возможно перекрытие старой татуировки новой.
                                </p>
                                <p class="text-gray-300 leading-relaxed">
                                    Мы предлагаем консультацию по удалению татуировок и можем помочь с выбором лучшего варианта для вашей ситуации.
                                </p>
                            </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1598300042247-d088f8ab3a91?w=500&h=400&fit=crop&crop=center" 
                                     alt="Лазерное удаление татуировки" 
                                     class="w-full h-64 object-cover rounded-xl shadow-2xl">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-xl"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 5 -->
                <div class="faq-item bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10 hover:border-purple-500/50 transition-all duration-300">
                    <button class="faq-question w-full text-left flex justify-between items-center group">
                        <h3 class="text-xl font-semibold text-white group-hover:text-purple-400 transition-colors">Выгорает ли татуировка со временем?</h3>
                        <i class="fas fa-chevron-down text-purple-400 transform transition-transform duration-300 faq-icon"></i>
                    </button>
                    <div class="faq-answer mt-6 hidden">
                        <div class="grid md:grid-cols-2 gap-6 items-center">
                            <div>
                                <p class="text-gray-300 leading-relaxed mb-4">
                                    Пигменты татуировки могут выгорать под воздействием ультрафиолетовых лучей. Рекомендуется защищать татуировку от интенсивного солнечного света, используя солнцезащитные кремы или закрывая её одеждой.
                                </p>
                                <p class="text-gray-300 leading-relaxed">
                                    При правильном уходе и защите от солнца татуировка может сохранять яркость и четкость на протяжении многих лет.
                                </p>
                            </div>
                            <div class="relative">
                                <img src="https://images.unsplash.com/photo-1594736797933-d0401ba2fe65?w=500&h=400&fit=crop&crop=center" 
                                     alt="Защита татуировки от солнца" 
                                     class="w-full h-64 object-cover rounded-xl shadow-2xl">
                                <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent rounded-xl"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black text-white py-12">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center">
                        <span class="text-white font-bold text-sm">CI</span>
                    </div>
                    <span class="text-xl font-bold">Chill Ink Tattoo</span>
                </div>
                
                <div class="flex space-x-8">
                    <a href="#hero" class="text-gray-400 hover:text-purple-500 transition-colors">Главная</a>
                    <a href="#about" class="text-gray-400 hover:text-purple-500 transition-colors">О нас</a>
                    <a href="#services" class="text-gray-400 hover:text-purple-500 transition-colors">Услуги</a>
                    <a href="#portfolio" class="text-gray-400 hover:text-purple-500 transition-colors">Портфолио</a>
                    <a href="#faq" class="text-gray-400 hover:text-purple-500 transition-colors">FAQ</a>
                    <a href="#contact" class="text-gray-400 hover:text-purple-500 transition-colors">Контакты</a>
                </div>
                
                <div class="flex space-x-4">
                    <a href="https://instagram.com/chill_ink_studio" target="_blank" class="w-10 h-10 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                        <i class="fab fa-instagram text-white"></i>
                    </a>
                    <a href="https://t.me/chillinktattoos" target="_blank" class="w-10 h-10 bg-gradient-to-r from-purple-500 to-orange-500 rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                        <i class="fab fa-telegram text-white"></i>
                    </a>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 Chill Ink Tattoo. Все права защищены.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Smooth scrolling
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
                mobileMenu.classList.add('hidden'); // Close mobile menu
            }
        }

        // Header background change on scroll
        window.addEventListener('scroll', () => {
            const header = document.getElementById('header');
            if (window.scrollY > 50) {
                header.classList.add('bg-black/95', 'backdrop-blur-md', 'shadow-lg');
                header.classList.remove('bg-transparent');
            } else {
                header.classList.remove('bg-black/95', 'backdrop-blur-md', 'shadow-lg');
                header.classList.add('bg-transparent');
            }
        });

        // Form submission
        const contactForm = document.querySelector('form');
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = this.querySelector('input[type="text"]').value;
            const phone = this.querySelector('input[type="tel"]').value;
            const message = this.querySelector('textarea').value;
            
            if (!name || !phone) {
                alert('Пожалуйста, заполните все обязательные поля');
                return;
            }
            
            const messageText = `Новая заявка с сайта Chill Ink Tattoo:\n\nИмя: ${name}\nТелефон: ${phone}\nСообщение: ${message}`;
            const telegramUrl = `https://t.me/chillinktattoos?text=${encodeURIComponent(messageText)}`;
            window.open(telegramUrl, '_blank');
            
            alert('Спасибо за заявку! Мы свяжемся с вами в ближайшее время.');
            this.reset();
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-fade-in-up');
                }
            });
        }, observerOptions);

        // Observe elements for animation
        document.querySelectorAll('.bg-white, .bg-gray-50').forEach(section => {
            const cards = section.querySelectorAll('.bg-white, .group');
            cards.forEach(card => observer.observe(card));
        });

        // Add fade-in animation CSS and image optimization
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fade-in-up {
                from {
                    opacity: 0;
                    transform: translateY(30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
            .animate-fade-in-up {
                animation: fade-in-up 0.6s ease-out;
            }
            
            /* Smooth image transitions for rotation */
            .grid.grid-cols-2.gap-2 img {
                transition: opacity 0.3s ease-in-out;
            }
            
            .grid.grid-cols-2.gap-2 img.opacity-50 {
                opacity: 0.5;
            }
            
            /* Optimize image loading */
            .grid.grid-cols-2.gap-2 img {
                will-change: transform;
                backface-visibility: hidden;
            }
        `;
        document.head.appendChild(style);

        // Global rotation state for all masters
        const globalRotationState = {
            currentWorkIndex: 0, // Which work to update (0, 1, or 2)
            currentRotationCycle: 0, // Current rotation cycle
            rotationInterval: null
        };

        // Individual master data
        const masterWorksRotation = {
            renoit: {
                totalWorks: 36,
                currentIndex: 0
            },
            rocket: {
                totalWorks: 8,
                currentIndex: 0
            },
            lozhkin: {
                totalWorks: 14,
                currentIndex: 0
            },
            nastasia: {
                totalWorks: 8,
                currentIndex: 0
            },
            dina: {
                totalWorks: 10,
                currentIndex: 0
            },
            barabanov: {
                totalWorks: 15,
                currentIndex: 0
            },
            flo: {
                totalWorks: 15,
                currentIndex: 0
            },
            atlasov: {
                totalWorks: 43,
                currentIndex: 0
            },
            leyla: {
                totalWorks: 10,
                currentIndex: 0
            }
        };

        // Function to generate optimized image URL (for thumbnails)
        function getOptimizedImageUrl(masterId, workId, extension) {
            // Use original images for now, but we can optimize them later
            // For better performance, we could create thumbnail versions
            return `gallery/${masterId}/${masterId}-work-${workId}${extension}`;
        }

        // Function to create optimized thumbnail with size parameters
        function getThumbnailUrl(masterId, workId, extension, width = 150, height = 150) {
            // Try to use thumbnail version if it exists, otherwise fallback to original
            const thumbnailPath = `gallery/${masterId}/thumbnails/${masterId}-work-${workId}_thumb.jpg`;
            const originalPath = `gallery/${masterId}/${masterId}-work-${workId}${extension}`;
            
            // For now, return original image (thumbnails will be created by PowerShell script)
            // TODO: Implement thumbnail checking and fallback
            return originalPath;
        }

        // Function to get current works for a master (3 different works)
        function getCurrentWorks(masterId) {
            const master = masterWorksRotation[masterId];
            if (!master) return [];
            
            const works = [];
            const startIndex = master.currentIndex;
            
            // Get 3 sequential works starting from current index
            for (let i = 0; i < 3 && i < master.totalWorks; i++) {
                let workIndex = ((startIndex + i) % master.totalWorks) + 1;
                
                // Special handling for masters with excluded works
                if (masterId === 'rocket' && workIndex === 7) {
                    // Skip work 7 for rocket (it's excluded)
                    workIndex = 8;
                }
                
                works.push(workIndex);
            }
            
            return works;
        }

        // Function to get work for a specific position (0, 1, or 2)
        function getWorkForPosition(masterId, position) {
            const master = masterWorksRotation[masterId];
            if (!master) return null;
            
            // Calculate work index based on current rotation cycle and position
            let workIndex = ((master.currentIndex + position) % master.totalWorks) + 1;
            
            // Special handling for masters with excluded works
            if (masterId === 'rocket' && workIndex === 7) {
                // Skip work 7 for rocket (it's excluded)
                workIndex = 8;
            }
            
            console.log(`Master ${masterId}, position ${position}: currentIndex=${master.currentIndex}, workIndex=${workIndex}`);
            
            return workIndex;
        }

        // Function to update single position on all master cards (optimized for speed)
        // Cache for DOM elements to avoid repeated queries
        const cardCache = new Map();
        
        function updateSinglePositionOnAllCards(position) {
            // Use requestAnimationFrame for smoother updates
            requestAnimationFrame(() => {
                console.log(`=== UPDATING POSITION ${position} ON ALL CARDS ===`);
                
                // Collect all updates first
                const updates = [];
                
                Object.keys(masterWorksRotation).forEach(masterId => {
                    const workId = getWorkForPosition(masterId, position);
                    if (!workId) return;
                    
                    // Use cached card or find and cache it
                    let targetCard = cardCache.get(masterId);
                    if (!targetCard) {
                        const cards = document.querySelectorAll('[onclick*="openMasterGallery"]');
                        for (let card of cards) {
                            const onclick = card.getAttribute('onclick');
                            if (onclick && onclick.includes(`openMasterGallery('${masterId}')`)) {
                                targetCard = card;
                                cardCache.set(masterId, targetCard);
                                break;
                            }
                        }
                    }
                    
                    if (!targetCard) return;
                    
                    const worksContainer = targetCard.querySelector('.grid.grid-cols-2.gap-2');
                    if (!worksContainer) return;
                    
                    const workDiv = worksContainer.children[position];
                    if (!workDiv || workDiv.tagName !== 'DIV') return;
                    
                    const img = workDiv.querySelector('img');
                    if (!img) return;
                    
                    // Determine file extension based on master (optimized)
                    let extension = '.jpg';
                    if (masterId === 'dina') {
                        extension = workId <= 2 ? '.jpg' : '.JPEG';
                    } else if (masterId === 'barabanov') {
                        const extensions = ['.JPG', '.JPG', '.JPG', '.jpg', '.jpg', '.JPG', '.JPG', '.jpg', '.JPG', '.jpg', '.JPG', '.JPG', '.jpg', '.jpg', '.JPG'];
                        extension = extensions[workId - 1] || '.jpg';
                    } else if (masterId === 'flo') {
                        const extensions = ['.JPG', '.JPG', '.jpg', '.jpg', '.JPG', '.JPG', '.JPG', '.jpg', '.JPG', '.jpg', '.JPG', '.JPG', '.JPG', '.JPG', '.JPG'];
                        extension = extensions[workId - 1] || '.jpg';
                    }
                    
                    const newSrc = getThumbnailUrl(masterId, workId, extension, 200, 200);
                    
                    // Only update if source is different
                    if (img.src !== newSrc) {
                        updates.push({
                            masterId,
                            workId,
                            img,
                            workDiv,
                            newSrc,
                            position
                        });
                    }
                });
                
                console.log(`Found ${updates.length} cards to update for position ${position}`);
                
                // Apply all updates simultaneously with optimized transitions
                updates.forEach(({ masterId, workId, img, workDiv, newSrc, position }) => {
                    // Add smooth transition
                    img.style.transition = 'opacity 0.15s ease';
                    img.style.opacity = '0.7';
                    
                    // Use direct assignment for faster updates
                    img.src = newSrc;
                    img.alt = `Работа ${workId}`;
                    
                    // Update onclick event
                    workDiv.onclick = (e) => {
                        e.stopPropagation();
                        openMasterGallery(masterId);
                        setTimeout(() => {
                            highlightWorkInGallery(masterId, workId);
                        }, 500);
                    };
                    
                    // Restore opacity after image loads
                    img.onload = () => {
                        img.style.opacity = '1';
                    };
                    
                    console.log(`Updated master ${masterId}, position ${position} to work ${workId}`);
                });
            });
        }

        // Optimize all images for better performance
        function optimizeImages() {
            const images = document.querySelectorAll('img');
            images.forEach((img, index) => {
                // Add decoding="async" for better performance
                if (!img.hasAttribute('decoding')) {
                    img.setAttribute('decoding', 'async');
                }
                
                // Add fetchpriority for first few images
                if (index < 6 && !img.hasAttribute('fetchpriority')) {
                    img.setAttribute('fetchpriority', 'high');
                }
                
                // Ensure lazy loading for images below the fold
                if (index > 5 && !img.hasAttribute('loading')) {
                    img.setAttribute('loading', 'lazy');
                }
            });
            
            console.log(`Optimized ${images.length} images for better performance`);
        }

        // Function to start global rotation
        function startGlobalRotation() {
            console.log('=== STARTING GLOBAL ROTATION ===');
            
            // Clear any existing interval
            if (globalRotationState.rotationInterval) {
                clearInterval(globalRotationState.rotationInterval);
            }
            
            // Reset rotation state
            globalRotationState.currentWorkIndex = 0;
            globalRotationState.currentRotationCycle = 0;
            
            // Set all master indices to 3 so first rotation shows works 4, 5, 6
            // Cards are initialized with works 1, 2, 3, so rotation should show 4, 5, 6
            Object.keys(masterWorksRotation).forEach(masterId => {
                masterWorksRotation[masterId].currentIndex = 3;
            });
            
            console.log('Initial state set - all masters start from index 3 (will show works 4, 5, 6)');
            console.log('Cards are initialized with works 1, 2, 3 - rotation will start showing works 4, 5, 6 every 3 seconds');
            debugRotationState();
            
            // Set up rotation interval (every 3 seconds)
            globalRotationState.rotationInterval = setInterval(() => {
                console.log(`=== ROTATION STEP: Updating position ${globalRotationState.currentWorkIndex} ===`);
                
                // Update current position on all cards
                updateSinglePositionOnAllCards(globalRotationState.currentWorkIndex);
                
                // Move to next position
                globalRotationState.currentWorkIndex = (globalRotationState.currentWorkIndex + 1) % 3;
                
                // If we've completed a full cycle (0->1->2->0), advance all masters by 3 works
                if (globalRotationState.currentWorkIndex === 0) {
                    globalRotationState.currentRotationCycle++;
                    Object.keys(masterWorksRotation).forEach(masterId => {
                        masterWorksRotation[masterId].currentIndex = (masterWorksRotation[masterId].currentIndex + 3) % masterWorksRotation[masterId].totalWorks;
                    });
                    console.log(`Completed full cycle ${globalRotationState.currentRotationCycle} - advanced all masters by 3 works`);
                    debugRotationState();
                }
            }, 3000);
        }

        // Function to stop global rotation
        function stopGlobalRotation() {
            if (globalRotationState.rotationInterval) {
                clearInterval(globalRotationState.rotationInterval);
                globalRotationState.rotationInterval = null;
                console.log('Global rotation stopped');
            }
        }

        // Global variable to track rotation state
        let rotationEnabled = false;

        // Function to highlight specific work in gallery
        function highlightWorkInGallery(masterId, workId) {
            const galleryGrid = document.getElementById(`${masterId}-gallery-grid`);
            if (galleryGrid) {
                const workElements = galleryGrid.querySelectorAll('.gallery-item');
                if (workElements[workId - 1]) {
                    // Scroll to the work
                    workElements[workId - 1].scrollIntoView({ behavior: 'smooth', block: 'center' });
                    
                    // Add highlight effect
                    workElements[workId - 1].style.transform = 'scale(1.05)';
                    workElements[workId - 1].style.boxShadow = '0 0 20px rgba(147, 51, 234, 0.5)';
                    workElements[workId - 1].style.border = '2px solid rgba(147, 51, 234, 0.8)';
                    workElements[workId - 1].style.transition = 'all 0.3s ease';
                    
                    // Remove highlight after 3 seconds
                    setTimeout(() => {
                        workElements[workId - 1].style.transform = '';
                        workElements[workId - 1].style.boxShadow = '';
                        workElements[workId - 1].style.border = '';
                    }, 3000);
                }
            }
        }

        // Function to initialize all cards with current works
        function initializeAllCards() {
            Object.keys(masterWorksRotation).forEach(masterId => {
                const currentWorks = getCurrentWorks(masterId);
                
                // Find the specific master card
                const cards = document.querySelectorAll('[onclick*="openMasterGallery"]');
                let targetCard = null;
                
                for (let card of cards) {
                    const onclick = card.getAttribute('onclick');
                    if (onclick && onclick.includes(`openMasterGallery('${masterId}')`)) {
                        targetCard = card;
                        break;
                    }
                }
                
                if (!targetCard) return;
                
                const worksContainer = targetCard.querySelector('.grid.grid-cols-2.gap-2');
                if (!worksContainer) return;
                
                // Update all three positions
                currentWorks.forEach((workId, position) => {
                    const workDiv = worksContainer.children[position];
                    if (!workDiv || workDiv.tagName !== 'DIV') return;
                    
                    const img = workDiv.querySelector('img');
                    if (!img) return;
                    
                // Determine file extension
                let extension = '.jpg';
                if (masterId === 'dina') {
                    const extensions = ['.jpg', '.jpg', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG'];
                    extension = extensions[workId - 1] || '.jpg';
                } else if (masterId === 'barabanov') {
                        const extensions = ['.JPG', '.JPG', '.JPG', '.jpg', '.jpg', '.JPG', '.JPG', '.jpg', '.JPG', '.jpg', '.JPG', '.JPG', '.jpg', '.jpg', '.JPG'];
                        extension = extensions[workId - 1] || '.jpg';
                    } else if (masterId === 'flo') {
                        const extensions = ['.JPG', '.JPG', '.jpg', '.jpg', '.JPG', '.JPG', '.JPG', '.jpg', '.JPG', '.jpg', '.JPG', '.JPG', '.JPG', '.JPG', '.JPG'];
                        extension = extensions[workId - 1] || '.jpg';
                    }
                    
                    const newSrc = getOptimizedImageUrl(masterId, workId, extension);
                    img.src = newSrc;
                    img.alt = `Работа ${workId}`;
                    
                    // Update onclick event
                    workDiv.onclick = (e) => {
                        e.stopPropagation();
                        openMasterGallery(masterId);
                        setTimeout(() => {
                            highlightWorkInGallery(masterId, workId);
                        }, 500);
                    };
                });
            });
        }

        // Master Gallery Data
        const masterData = {
            renoit: {
                name: 'Алексей',
                works: 36, // 38 - 2 (master-photo и дубликат work-27)
                worksPerPage: 9,
                style: 'Реализм',
                works: Array.from({length: 38}, (_, i) => i + 1)
                    .filter(num => num !== 27) // Исключаем work-27 (дубликат аватара)
                    .map((id, index) => ({
                        id: id,
                        src: `gallery/renoit/renoit-work-${id}.jpg`,
                        title: `Работа ${id}`,
                        style: 'Реализм • Алексей'
                    }))
            },
            rocket: {
                name: 'Булат',
                works: 8, // 9 - 1 (удален дубликат work-7)
                worksPerPage: 9,
                style: 'Графика',
                works: Array.from({length: 9}, (_, i) => i + 1)
                    .filter(num => num !== 7) // Исключаем work-7 (удален дубликат)
                    .map((id, index) => ({
                        id: id,
                        src: `gallery/rocket/rocket-work-${id}.jpg`,
                        title: `Работа ${id}`,
                        style: 'Графика • Булат'
                    }))
            },
            lozhkin: {
                name: 'Арсений',
                works: 14, // 14 работ + 1 аватар
                worksPerPage: 9,
                style: 'Японская татуировка',
                works: Array.from({length: 14}, (_, i) => i + 1)
                    .map((id, index) => ({
                        id: id,
                        src: `gallery/lozhkin/lozhkin-work-${id}.jpg`,
                        title: `Работа ${id}`,
                        style: 'Японская татуировка • Арсений'
                    }))
            },
            nastasia: {
                name: 'Анастасия',
                works: 8, // 8 работ + 1 аватар
                worksPerPage: 9,
                style: 'Реализм, Чикано',
                works: Array.from({length: 8}, (_, i) => i + 1)
                    .map((id, index) => ({
                        id: id,
                        src: `gallery/nastasia/nastasia-work-${id}.jpg`,
                        title: `Работа ${id}`,
                        style: 'Реализм • Анастасия'
                    }))
            },
            dina: {
                name: 'Дина',
                works: 10, // 10 работ + 1 аватар
                worksPerPage: 9,
                style: 'Акварельная, Ботаническая',
                works: Array.from({length: 10}, (_, i) => i + 1)
                    .map((id, index) => {
                        // Определяем расширение файла
                        const extensions = ['.jpg', '.jpg', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG'];
                        const ext = extensions[id - 1] || '.jpg';
                        return {
                            id: id,
                            src: `gallery/dina/dina-work-${id}${ext}`,
                            title: `Работа ${id}`,
                            style: 'Акварель • Дина'
                        };
                    })
            },
            barabanov: {
                name: 'Михаил Б.',
                works: 15, // 15 работ + 1 аватар (16 - 1 аватар)
                worksPerPage: 9,
                style: 'Neotraditional',
                works: Array.from({length: 15}, (_, i) => i + 1)
                    .map((id, index) => {
                        // Определяем расширение файла для работ Михаила
                        const extensions = ['.JPG', '.JPG', '.JPG', '.jpg', '.jpg', '.JPG', '.JPG', '.jpg', '.JPG', '.jpg', '.JPG', '.JPG', '.jpg', '.jpg', '.JPG'];
                        const ext = extensions[id - 1] || '.jpg';
                        return {
                            id: id,
                            src: `gallery/barabanov/barabanov-work-${id}${ext}`,
                            title: `Работа ${id}`,
                            style: 'Neotraditional • Михаил Б.'
                        };
                    })
            },
            flo: {
                name: 'Фларик',
                works: 15, // 15 работ + 1 аватар
                worksPerPage: 9,
                style: 'Орнаментал, Полинезия, Борнео',
                works: Array.from({length: 15}, (_, i) => i + 1)
                    .map((id, index) => {
                        // Определяем расширение файла для работ Фларика
                        const extensions = ['.JPG', '.JPG', '.jpg', '.jpg', '.JPG', '.JPG', '.JPG', '.jpg', '.jpg', '.jpg', '.JPG', '.JPG', '.JPG', '.JPG', '.JPG'];
                        const ext = extensions[id - 1] || '.jpg';
                        return {
                            id: id,
                            src: `gallery/flo/flo-work-${id}${ext}`,
                            title: `Работа ${id}`,
                            style: 'Орнаментал • Фларик'
                        };
                    })
            },
            atlasov: {
                name: 'Михаил А.',
                works: 43, // 43 работы + 1 аватар
                worksPerPage: 9,
                style: 'Минималистичная татуировка',
                works: Array.from({length: 43}, (_, i) => i + 1)
                    .map((id, index) => ({
                        id: id,
                        src: `gallery/atlasov/atlasov-work-${id}.jpg`,
                        title: `Работа ${id}`,
                        style: 'Минимализм • Михаил А.'
                    }))
            },
            leyla: {
                name: 'Лейла',
                works: 10, // 10 работ + 1 аватар
                worksPerPage: 9,
                style: 'Орнаментальная татуировка',
                works: Array.from({length: 10}, (_, i) => i + 1)
                    .map((id, index) => ({
                        id: id,
                        src: `gallery/leyla/leyla-work-${id}.jpg`,
                        title: `Работа ${id}`,
                        style: 'Орнаментал • Лейла'
                    }))
            }
        };

        // Gallery pagination state
        const galleryState = {
            renoit: { currentPage: 1 },
            rocket: { currentPage: 1 },
            lozhkin: { currentPage: 1 },
            nastasia: { currentPage: 1 },
            dina: { currentPage: 1 },
            barabanov: { currentPage: 1 },
            flo: { currentPage: 1 },
            atlasov: { currentPage: 1 },
            leyla: { currentPage: 1 }
        };

        // Master Gallery Functions
        function openMasterGallery(masterName) {
            const modal = document.getElementById(masterName + '-gallery');
            if (modal) {
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                loadGalleryPage(masterName, 1);
            }
        }

        function closeMasterGallery(masterName) {
            const modal = document.getElementById(masterName + '-gallery');
            if (modal) {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        }

        function loadGalleryPage(masterName, page) {
            const master = masterData[masterName];
            const state = galleryState[masterName];
            state.currentPage = page;
            
            const startIndex = (page - 1) * master.worksPerPage;
            const endIndex = Math.min(startIndex + master.worksPerPage, master.works.length);
            const worksToShow = master.works.slice(startIndex, endIndex);
            
            const grid = document.getElementById(masterName + '-gallery-grid');
            grid.innerHTML = '';
            
            worksToShow.forEach((work, index) => {
                const workElement = document.createElement('div');
                workElement.className = 'group relative overflow-hidden rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 cursor-pointer';
                workElement.innerHTML = `
                    <img src="${work.src}" alt="${work.title}" class="w-full h-32 object-cover group-hover:scale-110 transition-transform duration-300">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-2">
                        <div class="text-white">
                            <h4 class="text-sm font-bold">${work.title}</h4>
                            <p class="text-xs text-gray-300">${work.style}</p>
                        </div>
                    </div>
                    <div class="absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                        <i class="fas fa-search-plus text-white text-xl"></i>
                    </div>
                `;
                
                // Add click handler for lightbox
                workElement.addEventListener('click', function() {
                    // Create gallery array for navigation
                    const galleryImages = master.works.map(w => ({
                        src: w.src,
                        alt: w.title,
                        title: w.title,
                        description: w.style
                    }));
                    
                    // Calculate the actual index in the full gallery
                    const actualIndex = (page - 1) * master.worksPerPage + index;
                    openLightboxWithGallery(galleryImages, actualIndex);
                });
                
                grid.appendChild(workElement);
            });
            
            // Update pagination info
            const totalPages = Math.ceil(master.works.length / master.worksPerPage);
            document.getElementById(masterName + '-current-page').textContent = page;
            document.getElementById(masterName + '-total-pages').textContent = totalPages;
            
            // Update button states
            const prevBtn = document.querySelector(`button[onclick="previousPage('${masterName}')"]`);
            const nextBtn = document.querySelector(`button[onclick="nextPage('${masterName}')"]`);
            
            if (prevBtn) prevBtn.disabled = page === 1;
            if (nextBtn) nextBtn.disabled = page === totalPages;
        }

        function nextPage(masterName) {
            const master = masterData[masterName];
            const state = galleryState[masterName];
            const totalPages = Math.ceil(master.works.length / master.worksPerPage);
            
            if (state.currentPage < totalPages) {
                loadGalleryPage(masterName, state.currentPage + 1);
            }
        }

        function previousPage(masterName) {
            const state = galleryState[masterName];
            
            if (state.currentPage > 1) {
                loadGalleryPage(masterName, state.currentPage - 1);
            }
        }

        // Close gallery when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('gallery-modal')) {
                const masterName = e.target.id.replace('-gallery', '');
                closeMasterGallery(masterName);
            }
        });

        // Close gallery with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                document.querySelectorAll('.gallery-modal').forEach(modal => {
                    modal.classList.add('hidden');
                    document.body.style.overflow = 'auto';
                });
                closeBookingModal();
            }
        });

        // Booking Modal Functions
        function openBookingModal(masterName) {
            const modal = document.getElementById('booking-modal');
            const masterNameInput = document.getElementById('master-name');
            
            if (modal && masterNameInput) {
                masterNameInput.value = masterName;
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                
                // Test if fields are active
                setTimeout(() => {
                    const testField = document.getElementById('client-name');
                    if (testField) {
                        testField.focus();
                        console.log('Test field focused, should be editable now');
                    }
                }, 100);
            }
        }

        function closeBookingModal() {
            const modal = document.getElementById('booking-modal');
            if (modal) {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
                // Reset form
                document.getElementById('booking-form').reset();
                document.getElementById('file-list').innerHTML = '';
            }
        }

        // File handling functions
        function handleFiles(files) {
            const fileArray = Array.from(files);
            const fileList = document.getElementById('file-list');
            
            if (fileArray.length > 10) {
                alert('Максимум 10 файлов!');
                return;
            }
            
            fileList.innerHTML = '';
            fileArray.forEach((file, index) => {
                if (file.size > 10 * 1024 * 1024) {
                    alert(`Файл ${file.name} слишком большой! Максимум 10MB.`);
                    return;
                }
                
                const fileItem = document.createElement('div');
                fileItem.className = 'flex items-center justify-between bg-gray-100 p-1 rounded text-xs';
                fileItem.innerHTML = `
                    <span class="text-gray-700 truncate flex-1 mr-2">${file.name}</span>
                    <button type="button" onclick="removeFile(${index})" class="text-red-500 hover:text-red-700 flex-shrink-0">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                fileList.appendChild(fileItem);
            });
        }

        // Initialize form when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing form...');
            
            // File upload handling
            const fileInput = document.getElementById('tattoo-images');
            const dropZone = document.getElementById('file-drop-zone');
            
            if (fileInput) {
                console.log('File input found, adding event listener');
                fileInput.addEventListener('change', function(e) {
                    console.log('File input changed');
                    handleFiles(e.target.files);
                });
            } else {
                console.log('File input not found!');
            }
            
            // Drag and drop functionality
            if (dropZone) {
                console.log('Drop zone found, adding drag events');
                dropZone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    dropZone.classList.add('border-purple-500', 'bg-purple-50');
                });
                
                dropZone.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    dropZone.classList.remove('border-purple-500', 'bg-purple-50');
                });
                
                dropZone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    dropZone.classList.remove('border-purple-500', 'bg-purple-50');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        // Update file input
                        const dt = new DataTransfer();
                        Array.from(files).forEach(file => dt.items.add(file));
                        fileInput.files = dt.files;
                        
                        handleFiles(files);
                    }
                });
            } else {
                console.log('Drop zone not found!');
            }

            // Form submission
            const bookingForm = document.getElementById('booking-form');
            if (bookingForm) {
                console.log('Booking form found, adding submit listener');
                bookingForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    console.log('Form submitted');
                    
                    // Get form data
                    const masterName = document.getElementById('master-name').value;
                    const clientName = document.getElementById('client-name').value;
                    const clientPhone = document.getElementById('client-phone').value;
                    const clientEmail = document.getElementById('client-email').value;
                    const description = document.getElementById('tattoo-description').value;
                    
                    console.log('Form data:', { masterName, clientName, clientPhone, clientEmail, description });
                    
                    // Validate required fields
                    if (!clientName.trim()) {
                        alert('Пожалуйста, введите ваше имя');
                        return;
                    }
                    if (!clientPhone.trim()) {
                        alert('Пожалуйста, введите ваш телефон');
                        return;
                    }
                    if (!description.trim()) {
                        alert('Пожалуйста, опишите желаемую татуировку');
                        return;
                    }
                    
                    // Create message for messengers
                    const message = `🎨 Новая заявка на запись к мастеру!

👤 Мастер: ${masterName}
📝 Имя клиента: ${clientName}
📞 Телефон: ${clientPhone}
📧 Email: ${clientEmail || 'Не указан'}
🎯 Описание татуировки: ${description}
📎 Файлов прикреплено: ${fileInput ? fileInput.files.length : 0}`;
                    
                    // Send to Telegram
                    const telegramUrl = `https://t.me/chillinktattoos?text=${encodeURIComponent(message)}`;
                    window.open(telegramUrl, '_blank');
                    
                    // Send to WhatsApp
                    const whatsappUrl = `https://wa.me/79393830871?text=${encodeURIComponent(message)}`;
                    window.open(whatsappUrl, '_blank');
                    
                    // Send to email (using mailto)
                    const emailSubject = `Новая заявка на запись к мастеру ${masterName}`;
                    const emailBody = `Новая заявка на запись к мастеру:

Мастер: ${masterName}
Имя клиента: ${clientName}
Телефон: ${clientPhone}
Email: ${clientEmail || 'Не указан'}
Описание татуировки: ${description}
Количество прикрепленных файлов: ${fileInput ? fileInput.files.length : 0}`;
                    
                    const emailUrl = `mailto:chillink.kzn@gmail.com,kznbarmak@gmail.com?subject=${encodeURIComponent(emailSubject)}&body=${encodeURIComponent(emailBody)}`;
                    window.open(emailUrl, '_blank');
                    
                    alert('Заявка отправлена! Мы свяжемся с вами в ближайшее время.');
                    closeBookingModal();
                });
            } else {
                console.log('Booking form not found!');
            }
        });

        function removeFile(index) {
            const input = document.getElementById('tattoo-images');
            const files = Array.from(input.files);
            files.splice(index, 1);
            
            // Create new FileList
            const dt = new DataTransfer();
            files.forEach(file => dt.items.add(file));
            input.files = dt.files;
            
            // Refresh display
            input.dispatchEvent(new Event('change'));
        }

        // Telegram function
        function openTelegram() {
            const masterName = document.getElementById('master-name').value;
            const message = `Здравствуйте! Хочу записаться к мастеру "${masterName}".`;
            const telegramUrl = `https://t.me/chillinktattoos?text=${encodeURIComponent(message)}`;
            window.open(telegramUrl, '_blank');
        }

        // WhatsApp function
        function openWhatsApp() {
            const masterName = document.getElementById('master-name').value;
            const message = `Здравствуйте! Хочу записаться к мастеру "${masterName}".`;
            const whatsappUrl = `https://wa.me/79393830871?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Test form fields function
        function testFormFields() {
            console.log('Testing form fields...');
            
            const fields = [
                { id: 'client-name', name: 'Имя' },
                { id: 'client-phone', name: 'Телефон' },
                { id: 'client-email', name: 'Email' },
                { id: 'tattoo-description', name: 'Описание' }
            ];
            
            fields.forEach(field => {
                const element = document.getElementById(field.id);
                if (element) {
                    console.log(`${field.name}:`, {
                        exists: true,
                        disabled: element.disabled,
                        readonly: element.readOnly,
                        value: element.value,
                        type: element.type,
                        style: element.style.cssText
                    });
                    
                    // Try to set focus and value
                    element.focus();
                    element.value = `Тест ${field.name}`;
                    
                    // Check if value was set
                    setTimeout(() => {
                        console.log(`${field.name} value after test:`, element.value);
                    }, 100);
                } else {
                    console.log(`${field.name}: element not found!`);
                }
            });
            
            alert('Тест завершен! Проверьте консоль браузера (F12) для подробностей.');
        }

        // Waiting List Modal Functions
        function openWaitingListModal(masterName) {
            const modal = document.getElementById('waiting-list-modal');
            const masterNameInput = document.getElementById('waiting-master-name');
            
            if (modal && masterNameInput) {
                masterNameInput.value = masterName;
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                
                // Test if fields are active
                setTimeout(() => {
                    const testField = document.getElementById('waiting-client-name');
                    if (testField) {
                        testField.focus();
                        console.log('Waiting list test field focused, should be editable now');
                    }
                }, 100);
            }
        }

        function closeWaitingListModal() {
            const modal = document.getElementById('waiting-list-modal');
            if (modal) {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
                // Reset form
                document.getElementById('waiting-list-form').reset();
                document.getElementById('waiting-file-list').innerHTML = '';
            }
        }

        // Waiting List File handling functions
        function handleWaitingListFiles(files) {
            const fileArray = Array.from(files);
            const fileList = document.getElementById('waiting-file-list');
            
            if (fileArray.length > 10) {
                alert('Максимум 10 файлов!');
                return;
            }
            
            fileList.innerHTML = '';
            fileArray.forEach((file, index) => {
                if (file.size > 10 * 1024 * 1024) {
                    alert(`Файл ${file.name} слишком большой! Максимум 10MB.`);
                    return;
                }
                
                const fileItem = document.createElement('div');
                fileItem.className = 'flex items-center justify-between bg-gray-100 p-1 rounded text-xs';
                fileItem.innerHTML = `
                    <span class="text-gray-700 truncate flex-1 mr-2">${file.name}</span>
                    <button type="button" onclick="removeWaitingListFile(${index})" class="text-red-500 hover:text-red-700 flex-shrink-0">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                fileList.appendChild(fileItem);
            });
        }

        function removeWaitingListFile(index) {
            const input = document.getElementById('waiting-tattoo-images');
            const files = Array.from(input.files);
            files.splice(index, 1);
            
            // Create new FileList
            const dt = new DataTransfer();
            files.forEach(file => dt.items.add(file));
            input.files = dt.files;
            
            // Refresh display
            input.dispatchEvent(new Event('change'));
        }

        // Initialize waiting list form when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Waiting list file upload handling
            const waitingFileInput = document.getElementById('waiting-tattoo-images');
            const waitingDropZone = document.getElementById('waiting-file-drop-zone');
            
            if (waitingFileInput) {
                waitingFileInput.addEventListener('change', function(e) {
                    handleWaitingListFiles(e.target.files);
                });
            }
            
            // Waiting list drag and drop functionality
            if (waitingDropZone) {
                waitingDropZone.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    waitingDropZone.classList.add('border-indigo-500', 'bg-indigo-50');
                });
                
                waitingDropZone.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    waitingDropZone.classList.remove('border-indigo-500', 'bg-indigo-50');
                });
                
                waitingDropZone.addEventListener('drop', function(e) {
                    e.preventDefault();
                    waitingDropZone.classList.remove('border-indigo-500', 'bg-indigo-50');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        // Update file input
                        const dt = new DataTransfer();
                        Array.from(files).forEach(file => dt.items.add(file));
                        waitingFileInput.files = dt.files;
                        
                        handleWaitingListFiles(files);
                    }
                });
            }

            // Waiting list form submission
            const waitingListForm = document.getElementById('waiting-list-form');
            if (waitingListForm) {
                waitingListForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // Get form data
                    const masterName = document.getElementById('waiting-master-name').value;
                    const clientName = document.getElementById('waiting-client-name').value;
                    const clientPhone = document.getElementById('waiting-client-phone').value;
                    const clientEmail = document.getElementById('waiting-client-email').value;
                    const description = document.getElementById('waiting-tattoo-description').value;
                    
                    // Validate required fields
                    if (!clientName.trim()) {
                        alert('Пожалуйста, введите ваше имя');
                        return;
                    }
                    if (!clientPhone.trim()) {
                        alert('Пожалуйста, введите ваш телефон');
                        return;
                    }
                    if (!description.trim()) {
                        alert('Пожалуйста, опишите желаемую татуировку');
                        return;
                    }
                    
                    // Create message for messengers
                    const message = `📋 Новая заявка в лист ожидания!

👤 Мастер: ${masterName}
📝 Имя клиента: ${clientName}
📞 Телефон: ${clientPhone}
📧 Email: ${clientEmail || 'Не указан'}
🎯 Описание татуировки: ${description}
📎 Файлов прикреплено: ${waitingFileInput ? waitingFileInput.files.length : 0}
⏰ Статус: Лист ожидания`;
                    
                    // Send to Telegram
                    const telegramUrl = `https://t.me/chillinktattoos?text=${encodeURIComponent(message)}`;
                    window.open(telegramUrl, '_blank');
                    
                    // Send to WhatsApp
                    const whatsappUrl = `https://wa.me/79393830871?text=${encodeURIComponent(message)}`;
                    window.open(whatsappUrl, '_blank');
                    
                    // Send to email (using mailto)
                    const emailSubject = `Новая заявка в лист ожидания к мастеру ${masterName}`;
                    const emailBody = `Новая заявка в лист ожидания к мастеру:

Мастер: ${masterName}
Имя клиента: ${clientName}
Телефон: ${clientPhone}
Email: ${clientEmail || 'Не указан'}
Описание татуировки: ${description}
Количество прикрепленных файлов: ${waitingFileInput ? waitingFileInput.files.length : 0}
Статус: Лист ожидания`;
                    
                    const emailUrl = `mailto:chillink.kzn@gmail.com,kznbarmak@gmail.com?subject=${encodeURIComponent(emailSubject)}&body=${encodeURIComponent(emailBody)}`;
                    window.open(emailUrl, '_blank');
                    
                    alert('Заявка в лист ожидания отправлена! Мы уведомим вас, когда мастер будет доступен.');
                    closeWaitingListModal();
                });
            }
        });

        // Waiting list Telegram function
        function openWaitingListTelegram() {
            const masterName = document.getElementById('waiting-master-name').value;
            const message = `Здравствуйте! Хочу записаться в лист ожидания к мастеру "${masterName}".`;
            const telegramUrl = `https://t.me/chillinktattoos?text=${encodeURIComponent(message)}`;
            window.open(telegramUrl, '_blank');
        }

        // Waiting list WhatsApp function
        function openWaitingListWhatsApp() {
            const masterName = document.getElementById('waiting-master-name').value;
            const message = `Здравствуйте! Хочу записаться в лист ожидания к мастеру "${masterName}".`;
            const whatsappUrl = `https://wa.me/79393830871?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // Lightbox functionality
        let lightboxImages = [];
        let currentLightboxIndex = 0;

        function openLightbox(imageSrc, imageAlt, imageTitle, imageDescription) {
            const modal = document.getElementById('lightbox-modal');
            const img = document.getElementById('lightbox-image');
            const title = document.getElementById('lightbox-title');
            const description = document.getElementById('lightbox-description');
            
            if (modal && img) {
                img.src = imageSrc;
                img.alt = imageAlt;
                title.textContent = imageTitle || imageAlt;
                description.textContent = imageDescription || '';
                
                // Hide navigation buttons for single images
                const prevBtn = document.getElementById('lightbox-prev-btn');
                const nextBtn = document.getElementById('lightbox-next-btn');
                prevBtn.classList.add('hidden');
                nextBtn.classList.add('hidden');
                
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeLightbox() {
            const modal = document.getElementById('lightbox-modal');
            if (modal) {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        }

        function openLightboxWithGallery(images, startIndex = 0) {
            lightboxImages = images;
            currentLightboxIndex = startIndex;
            
            if (lightboxImages.length > 0) {
                const currentImage = lightboxImages[currentLightboxIndex];
                openLightbox(
                    currentImage.src,
                    currentImage.alt,
                    currentImage.title,
                    currentImage.description
                );
                
                // Show/hide navigation buttons based on gallery size
                const prevBtn = document.getElementById('lightbox-prev-btn');
                const nextBtn = document.getElementById('lightbox-next-btn');
                
                if (lightboxImages.length > 1) {
                    prevBtn.classList.remove('hidden');
                    nextBtn.classList.remove('hidden');
                } else {
                    prevBtn.classList.add('hidden');
                    nextBtn.classList.add('hidden');
                }
            }
        }

        function previousLightboxImage() {
            if (lightboxImages.length > 1) {
                currentLightboxIndex = (currentLightboxIndex - 1 + lightboxImages.length) % lightboxImages.length;
                const currentImage = lightboxImages[currentLightboxIndex];
                
                const img = document.getElementById('lightbox-image');
                const title = document.getElementById('lightbox-title');
                const description = document.getElementById('lightbox-description');
                
                img.src = currentImage.src;
                img.alt = currentImage.alt;
                title.textContent = currentImage.title || currentImage.alt;
                description.textContent = currentImage.description || '';
            }
        }

        function nextLightboxImage() {
            if (lightboxImages.length > 1) {
                currentLightboxIndex = (currentLightboxIndex + 1) % lightboxImages.length;
                const currentImage = lightboxImages[currentLightboxIndex];
                
                const img = document.getElementById('lightbox-image');
                const title = document.getElementById('lightbox-title');
                const description = document.getElementById('lightbox-description');
                
                img.src = currentImage.src;
                img.alt = currentImage.alt;
                title.textContent = currentImage.title || currentImage.alt;
                description.textContent = currentImage.description || '';
            }
        }

        // Keyboard navigation for lightbox
        document.addEventListener('keydown', function(e) {
            const lightboxModal = document.getElementById('lightbox-modal');
            if (!lightboxModal.classList.contains('hidden')) {
                switch(e.key) {
                    case 'Escape':
                        closeLightbox();
                        break;
                    case 'ArrowLeft':
                        previousLightboxImage();
                        break;
                    case 'ArrowRight':
                        nextLightboxImage();
                        break;
                }
            }
        });

        // Close lightbox when clicking outside image
        document.addEventListener('click', function(e) {
            if (e.target.id === 'lightbox-modal') {
                closeLightbox();
            }
        });

        // Close booking modal when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.id === 'booking-modal') {
                closeBookingModal();
            }
            if (e.target.id === 'waiting-list-modal') {
                closeWaitingListModal();
            }
        });

        // Performance optimization: Preload images for better rotation
        function preloadMasterImages() {
            console.log('Preloading master images for faster rotation...');
            
            Object.keys(masterWorksRotation).forEach(masterId => {
                const master = masterWorksRotation[masterId];
                // Preload first 9 images for each master (enough for smooth rotation cycles)
                for (let i = 1; i <= Math.min(9, master.totalWorks); i++) {
                    let extension = '.jpg';
                    if (masterId === 'dina') {
                        const extensions = ['.jpg', '.jpg', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG', '.JPEG'];
                        extension = extensions[i - 1] || '.jpg';
                    } else if (masterId === 'barabanov') {
                        const extensions = ['.JPG', '.JPG', '.JPG', '.jpg', '.jpg', '.JPG', '.JPG', '.jpg', '.JPG', '.jpg', '.JPG', '.JPG', '.jpg', '.jpg', '.JPG'];
                        extension = extensions[i - 1] || '.jpg';
                    } else if (masterId === 'flo') {
                        const extensions = ['.JPG', '.JPG', '.jpg', '.jpg', '.JPG', '.JPG', '.JPG', '.jpg', '.JPG', '.jpg', '.JPG', '.JPG', '.JPG', '.JPG', '.JPG'];
                        extension = extensions[i - 1] || '.jpg';
                    }
                    
                    const img = new Image();
                    img.loading = 'lazy';
                    img.src = `gallery/${masterId}/${masterId}-work-${i}${extension}`;
                }
            });
            
            console.log('Image preloading completed');
        }

        // Function to update all master cards with optimized click handlers
        function updateAllMasterCardsClickHandlers() {
            const masters = ['renoit', 'rocket', 'lozhkin', 'nastasia', 'dina', 'barabanov', 'flo', 'atlasov', 'leyla'];
            
            masters.forEach(masterId => {
                const card = document.querySelector(`[onclick*="openMasterGallery('${masterId}')"]`);
                if (card) {
                    const workImages = card.querySelectorAll('.grid.grid-cols-2.gap-2 img');
                    workImages.forEach((img, index) => {
                        const workId = index + 1;
                        const parentDiv = img.parentElement;
                        
                        // Update onclick handler
                        parentDiv.onclick = (e) => {
                            e.stopPropagation();
                            openMasterGallery(masterId);
                            setTimeout(() => highlightWorkInGallery(masterId, workId), 500);
                        };
                        
                        // Add loading lazy attribute if not present
                        if (!img.hasAttribute('loading')) {
                            img.setAttribute('loading', 'lazy');
                        }
                    });
                }
            });
        }

        // Make functions globally available for debugging
        window.startGlobalRotation = startGlobalRotation;
        window.stopGlobalRotation = stopGlobalRotation;
        window.updateSinglePositionOnAllCards = updateSinglePositionOnAllCards;
        window.initializeAllCards = initializeAllCards;
        window.getCurrentWorks = getCurrentWorks;
        window.initializeRotation = initializeRotation;
        
        // Force start rotation function
        window.forceStartRotation = function() {
            console.log('Force starting rotation...');
            initializeRotation();
        };
        
        // Debug function to show current state
        window.debugRotationState = function() {
            console.log('=== ROTATION DEBUG STATE ===');
            console.log('Global state:', globalRotationState);
            console.log('Current work index:', globalRotationState.currentWorkIndex);
            console.log('Current rotation cycle:', globalRotationState.currentRotationCycle);
            console.log('Master states:');
            Object.keys(masterWorksRotation).forEach(masterId => {
                const works = getCurrentWorks(masterId);
                console.log(`  ${masterId}: index ${masterWorksRotation[masterId].currentIndex}, works [${works.join(', ')}]`);
            });
        };
        
        // Test function to manually test position updates
        window.testPositionUpdate = function(position) {
            console.log(`=== MANUAL TEST: Updating position ${position} ===`);
            updateSinglePositionOnAllCards(position);
        };
        
        // Function to restart rotation with proper initialization
        window.restartRotation = function() {
            console.log('=== RESTARTING ROTATION ===');
            stopGlobalRotation();
            
            // Wait a bit then restart
            setTimeout(() => {
                startGlobalRotation();
            }, 500);
        };

        // Function to initialize rotation
        function initializeRotation() {
            console.log('Initializing rotation...');
            
            // Preload images for better performance
            preloadMasterImages();
            
            // Initialize all cards with current works (this sets the initial 3 works)
            setTimeout(() => {
                console.log('Initializing all cards with initial works...');
                initializeAllCards();
            }, 500);
            
            // Start global rotation automatically after cards are initialized
            setTimeout(() => {
                console.log('Starting global rotation automatically...');
                startGlobalRotation();
            }, 1000); // Reduced delay since we don't need the immediate update
        }

        // Optimized initialization with performance monitoring
        function initializeWithPerformanceMonitoring() {
            const startTime = performance.now();
            console.log('DOMContentLoaded event fired');
            
            // Optimize images first
            optimizeImages();
            
            // Initialize rotation with delay to ensure DOM is ready
            requestAnimationFrame(() => {
                initializeRotation();
                
                const endTime = performance.now();
                console.log(`Initialization completed in ${(endTime - startTime).toFixed(2)}ms`);
            });
        }
        
        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', initializeWithPerformanceMonitoring);

        // Fallback initialization if DOMContentLoaded already fired
        if (document.readyState === 'loading') {
            console.log('Document still loading, waiting for DOMContentLoaded');
        } else {
            console.log('Document already loaded, initializing immediately');
            setTimeout(() => {
                initializeRotation();
            }, 100);
        }

        // Force initialization after a delay to ensure everything is ready
        setTimeout(() => {
            console.log('Force initialization check...');
            if (!globalRotationState.rotationInterval) {
                console.log('Rotation not started, force starting...');
                initializeRotation();
            }
        }, 2000);

        // Pause rotation when page is not visible (performance optimization)
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                stopGlobalRotation();
            } else {
                startGlobalRotation();
            }
        });

        // Optimized scroll handler with debouncing
        let scrollTimeout;
        let isScrolling = false;
        
        function handleScroll() {
            if (!isScrolling) {
                stopGlobalRotation();
                isScrolling = true;
            }
            
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(() => {
                isScrolling = false;
                startGlobalRotation();
            }, 1500); // Reduced delay for better UX
        }
        
        // Use passive event listener for better performance
        window.addEventListener('scroll', handleScroll, { passive: true });
    </script>

    <!-- Master Gallery Modals -->
    <!-- Алексей Renoit Gallery -->
    <div id="renoit-gallery" class="gallery-modal fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden">
            <div class="bg-gradient-to-r from-purple-500 to-orange-500 text-white p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold">Алексей - Мастер татуировки</h2>
                <button onclick="closeMasterGallery('renoit')" class="text-white hover:text-gray-300 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Main Content Layout -->
            <div class="flex flex-col lg:flex-row h-full">
                <!-- Master Info Section - Left Side -->
                <div class="lg:w-1/3 bg-gray-50 p-4 border-r">
                    <div class="flex flex-col items-center text-center">
                        <img src="gallery/renoit/master-photo.jpg" alt="Алексей Renoit" class="w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg mb-4">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Алексей Renoit</h3>
                        <p class="text-purple-600 font-semibold text-lg mb-3">Мастер художественной татуировки</p>
                        <div class="flex flex-wrap justify-center gap-2 mb-4">
                            <span class="bg-gradient-to-r from-purple-500 to-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold">10+ лет опыта</span>
                            <span class="bg-gradient-to-r from-purple-500 to-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold">36+ работ</span>
                            <span class="bg-gradient-to-r from-purple-500 to-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold">Реализм</span>
                            <span class="bg-gradient-to-r from-purple-500 to-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold">🏛️ Резидент студии</span>
                        </div>
                        <p class="text-gray-700 leading-relaxed text-sm">
                            Профессиональный тату-мастер с более чем 10-летним опытом работы. Специализируется на реалистичных татуировках, 
                            японской традиции и аниме стиле. Алексей создает уникальные произведения искусства, сочетая техническое мастерство 
                            с творческим видением.
                        </p>
                    </div>
                </div>
                
                <!-- Gallery Section - Right Side -->
                <div class="lg:w-2/3 flex flex-col">
                    <!-- Gallery Controls -->
                    <div class="bg-white p-3 border-b flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <span class="text-gray-600">Работы:</span>
                            <span id="renoit-current-page" class="font-bold text-purple-600">1</span>
                            <span class="text-gray-400">из</span>
                            <span id="renoit-total-pages" class="font-bold text-gray-600">4</span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="previousPage('renoit')" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors text-sm">
                                <i class="fas fa-chevron-left"></i> Назад
                            </button>
                            <button onclick="nextPage('renoit')" class="px-3 py-1 bg-purple-500 hover:bg-purple-600 text-white rounded-lg transition-colors text-sm">
                                Вперед <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="p-4 flex-1 overflow-y-auto">
                        <div id="renoit-gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Works will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Булат Rocket Gallery -->
    <div id="rocket-gallery" class="gallery-modal fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden">
            <div class="bg-gradient-to-r from-orange-500 to-purple-500 text-white p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold">Булат - Мастер татуировки</h2>
                <button onclick="closeMasterGallery('rocket')" class="text-white hover:text-gray-300 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Main Content Layout -->
            <div class="flex flex-col lg:flex-row h-full">
                <!-- Master Info Section - Left Side -->
                <div class="lg:w-1/3 bg-gray-50 p-4 border-r">
                    <div class="flex flex-col items-center text-center">
                        <img src="gallery/rocket/master-photo.jpg" alt="Булат Rocket" class="w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg mb-4">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Булат Rocket</h3>
                        <p class="text-orange-600 font-semibold text-lg mb-3">Мастер графической татуировки</p>
                        <div class="flex flex-wrap justify-center gap-2 mb-4">
                            <span class="bg-gradient-to-r from-orange-500 to-purple-500 text-white px-3 py-1 rounded-full text-xs font-semibold">10+ лет опыта</span>
                            <span class="bg-gradient-to-r from-orange-500 to-purple-500 text-white px-3 py-1 rounded-full text-xs font-semibold">9+ работ</span>
                            <span class="bg-gradient-to-r from-orange-500 to-purple-500 text-white px-3 py-1 rounded-full text-xs font-semibold">Графика</span>
                            <span class="bg-gradient-to-r from-orange-500 to-purple-500 text-white px-3 py-1 rounded-full text-xs font-semibold">🏛️ Резидент студии</span>
                        </div>
                        <p class="text-gray-700 leading-relaxed text-sm">
                            Опытный мастер графической татуировки с уникальным стилем. Специализируется на черно-белых работах, 
                            портретах и графических композициях. Булат создает смелые и выразительные татуировки, которые 
                            подчеркивают индивидуальность клиента.
                        </p>
                    </div>
                </div>
                
                <!-- Gallery Section - Right Side -->
                <div class="lg:w-2/3 flex flex-col">
                    <!-- Gallery Controls -->
                    <div class="bg-white p-3 border-b flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <span class="text-gray-600">Работы:</span>
                            <span id="rocket-current-page" class="font-bold text-orange-600">1</span>
                            <span class="text-gray-400">из</span>
                            <span id="rocket-total-pages" class="font-bold text-gray-600">1</span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="previousPage('rocket')" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors text-sm">
                                <i class="fas fa-chevron-left"></i> Назад
                            </button>
                            <button onclick="nextPage('rocket')" class="px-3 py-1 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors text-sm">
                                Вперед <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="p-4 flex-1 overflow-y-auto">
                        <div id="rocket-gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Works will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Арсений Ложкин Gallery -->
    <div id="lozhkin-gallery" class="gallery-modal fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden">
            <div class="bg-gradient-to-r from-red-500 to-pink-500 text-white p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold">Арсений - Мастер японской татуировки</h2>
                <button onclick="closeMasterGallery('lozhkin')" class="text-white hover:text-gray-300 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Main Content Layout -->
            <div class="flex flex-col lg:flex-row h-full">
                <!-- Master Info Section - Left Side -->
                <div class="lg:w-1/3 bg-gray-50 p-4 border-r">
                    <div class="flex flex-col items-center text-center">
                            <img src="gallery/lozhkin/master-photo.jpg" alt="Арсений Ложкин" class="w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg mb-4">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Арсений Ложкин</h3>
                        <p class="text-red-600 font-semibold text-lg mb-3">Мастер японской татуировки</p>
                        <div class="flex flex-wrap justify-center gap-2 mb-4">
                            <span class="bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-semibold">8+ лет опыта</span>
                            <span class="bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-semibold">14+ работ</span>
                            <span class="bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-semibold">Иредзуми</span>
                            <span class="bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-semibold">🏛️ Резидент студии</span>
                        </div>
                        <p class="text-gray-700 leading-relaxed text-sm">
                            Специалист по традиционной японской татуировке с 8-летним опытом работы. 
                            Мастер иредзуми, создающий аутентичные японские композиции с драконами, 
                            сакурой, карпами и другими традиционными элементами. Арсений изучал 
                            японскую культуру и технику татуировки у мастеров из Японии.
                        </p>
                    </div>
                </div>
                
                <!-- Gallery Section - Right Side -->
                <div class="lg:w-2/3 flex flex-col">
                    <!-- Gallery Controls -->
                    <div class="bg-white p-3 border-b flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <span class="text-gray-600">Работы:</span>
                            <span id="lozhkin-current-page" class="font-bold text-red-600">1</span>
                            <span class="text-gray-400">из</span>
                            <span id="lozhkin-total-pages" class="font-bold text-gray-600">2</span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="previousPage('lozhkin')" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors text-sm">
                                <i class="fas fa-chevron-left"></i> Назад
                            </button>
                            <button onclick="nextPage('lozhkin')" class="px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors text-sm">
                                Вперед <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="p-4 flex-1 overflow-y-auto">
                        <div id="lozhkin-gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Works will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Анастасия Красное Микеланджело Gallery -->
    <div id="nastasia-gallery" class="gallery-modal fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden">
            <div class="bg-gradient-to-r from-pink-500 to-red-500 text-white p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold">Анастасия - Мастер реализма и чикано</h2>
                <button onclick="closeMasterGallery('nastasia')" class="text-white hover:text-gray-300 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Main Content Layout -->
            <div class="flex flex-col lg:flex-row h-full">
                <!-- Master Info Section - Left Side -->
                <div class="lg:w-1/3 bg-gray-50 p-4 border-r">
                    <div class="flex flex-col items-center text-center">
                        <img src="gallery/nastasia/master-photo.jpg" alt="Анастасия Красное Микеланджело" class="w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg mb-4">
                        <h3 class="text-2xl font-bold text-gray-900 mb-2">Анастасия "Красное Микеланджело"</h3>
                        <p class="text-pink-600 font-semibold text-lg mb-3">Мастер реализма и чикано</p>
                        <div class="flex flex-wrap justify-center gap-2 mb-4">
                            <span class="bg-gradient-to-r from-pink-500 to-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold">10+ лет опыта</span>
                            <span class="bg-gradient-to-r from-pink-500 to-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold">8+ работ</span>
                            <span class="bg-gradient-to-r from-pink-500 to-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold">Реализм</span>
                            <span class="bg-gradient-to-r from-pink-500 to-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold">🏛️ Резидент студии</span>
                        </div>
                        <p class="text-gray-700 leading-relaxed text-sm">
                            Профессиональный мастер реалистичной татуировки с 10-летним опытом работы. 
                            Специализируется на реализме, чикано стиле и цветных портретах. Анастасия создает 
                            невероятно детализированные работы, которые поражают своей реалистичностью и 
                            художественным мастерством.
                        </p>
                    </div>
                </div>
                
                <!-- Gallery Section - Right Side -->
                <div class="lg:w-2/3 flex flex-col">
                    <!-- Gallery Controls -->
                    <div class="bg-white p-3 border-b flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <span class="text-gray-600">Работы:</span>
                            <span id="nastasia-current-page" class="font-bold text-pink-600">1</span>
                            <span class="text-gray-400">из</span>
                            <span id="nastasia-total-pages" class="font-bold text-gray-600">1</span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="previousPage('nastasia')" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors text-sm">
                                <i class="fas fa-chevron-left"></i> Назад
                            </button>
                            <button onclick="nextPage('nastasia')" class="px-3 py-1 bg-pink-500 hover:bg-pink-600 text-white rounded-lg transition-colors text-sm">
                                Вперед <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="p-4 flex-1 overflow-y-auto">
                        <div id="nastasia-gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Works will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Дина Synthetica Gallery -->
    <div id="dina-gallery" class="gallery-modal fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden">
            <div class="bg-gradient-to-r from-teal-500 to-cyan-500 text-white p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold">Дина Synthetica - Мастер акварельной и ботанической татуировки</h2>
                <button onclick="closeMasterGallery('dina')" class="text-white hover:text-gray-300 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Main Content Layout -->
            <div class="flex flex-col lg:flex-row h-full">
                <!-- Master Info Section - Left Side -->
                <div class="lg:w-1/3 bg-gray-50 p-4 border-r">
                    <div class="text-center mb-4">
                        <div class="w-24 h-24 mx-auto mb-3 rounded-full overflow-hidden border-4 border-white shadow-lg">
                            <img src="gallery/dina/master-photo.jpg" alt="Дина Synthetica" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-lg font-bold text-gray-800">Дина Synthetica</h3>
                        <p class="text-teal-600 font-semibold text-sm">Акварельная, Ботаническая татуировка</p>
                        <p class="text-gray-600 text-sm">8 лет опыта</p>
                        <span class="bg-gradient-to-r from-teal-500 to-cyan-500 text-white px-3 py-1 rounded-full text-xs font-semibold">🏛️ Резидент студии</span>
                    </div>
                    
                    <div class="text-sm text-gray-700 space-y-3">
                        <p><strong>Специализация:</strong> Акварельная, ботаническая, цветная татуировка</p>
                        <p><strong>Опыт работы:</strong> 8 лет</p>
                        <p><strong>Стили:</strong> Акварель, ботаника, природа, цветные работы</p>
                        
                        <div class="mt-4">
                            <h4 class="font-semibold text-gray-800 mb-2">О мастере:</h4>
                            <p class="text-gray-600 text-xs leading-relaxed">
                                Дина - талантливый мастер акварельной татуировки с 8-летним опытом. 
                                Специализируется на создании нежных, воздушных работ в стиле акварели, 
                                особенно в ботанической тематике. Её работы отличаются мягкими переходами цветов, 
                                реалистичной передачей природных форм и уникальным подходом к цветопередаче. 
                                Дина создаёт татуировки, которые выглядят как настоящие акварельные картины на коже.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Gallery Section - Right Side -->
                <div class="lg:w-2/3 flex flex-col">
                    <!-- Gallery Controls -->
                    <div class="bg-white p-3 border-b flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <span class="text-gray-600">Работы:</span>
                            <span id="dina-current-page" class="font-bold text-teal-600">1</span>
                            <span class="text-gray-400">из</span>
                            <span id="dina-total-pages" class="font-bold text-gray-600">1</span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="previousPage('dina')" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors text-sm">
                                <i class="fas fa-chevron-left"></i> Назад
                            </button>
                            <button onclick="nextPage('dina')" class="px-3 py-1 bg-teal-500 hover:bg-teal-600 text-white rounded-lg transition-colors text-sm">
                                Вперед <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="p-4 flex-1 overflow-y-auto">
                        <div id="dina-gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Works will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Михаил Барабанов Gallery -->
    <div id="barabanov-gallery" class="gallery-modal fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden">
            <div class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold">Михаил Б. - Гостевой мастер Neotraditional</h2>
                <button onclick="closeMasterGallery('barabanov')" class="text-white hover:text-gray-300 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Main Content Layout -->
            <div class="flex flex-col lg:flex-row h-full">
                <!-- Master Info Section - Left Side -->
                <div class="lg:w-1/3 bg-gray-50 p-4 border-r">
                    <div class="text-center mb-4">
                        <div class="w-24 h-24 mx-auto mb-3 rounded-full overflow-hidden border-4 border-white shadow-lg">
                            <img src="gallery/barabanov/master-photo.jpg" alt="Михаил Барабанов" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-lg font-bold text-gray-800">Михаил Барабанов</h3>
                        <p class="text-indigo-600 font-semibold text-sm">Neotraditional татуировка</p>
                        <p class="text-gray-600 text-sm">10+ лет опыта</p>
                        <span class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-3 py-1 rounded-full text-xs font-semibold">🌍 Гостевой мастер</span>
                        <p class="text-gray-500 text-xs mt-1">г. Ижевск</p>
                    </div>
                    
                    <div class="text-sm text-gray-700 space-y-3">
                        <p><strong>Специализация:</strong> Neotraditional татуировка</p>
                        <p><strong>Опыт работы:</strong> 10+ лет</p>
                        <p><strong>Город:</strong> Ижевск</p>
                        <p><strong>Статус:</strong> Гостевой мастер</p>
                        
                        <div class="mt-4">
                            <h4 class="font-semibold text-gray-800 mb-2">О мастере:</h4>
                            <p class="text-gray-600 text-xs leading-relaxed">
                                Михаил Барабанов - опытный мастер neotraditional стиля из Ижевска с более чем 10-летним стажем. 
                                Специализируется на современной интерпретации традиционных татуировочных мотивов. 
                                Его работы отличаются яркими цветами, четкими линиями и современным подходом к классическим сюжетам. 
                                Михаил регулярно приезжает в нашу студию для проведения сессий.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Gallery Section - Right Side -->
                <div class="lg:w-2/3 flex flex-col">
                    <!-- Gallery Controls -->
                    <div class="bg-white p-3 border-b flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <span class="text-gray-600">Работы:</span>
                            <span id="barabanov-current-page" class="font-bold text-indigo-600">1</span>
                            <span class="text-gray-400">из</span>
                            <span id="barabanov-total-pages" class="font-bold text-gray-600">1</span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="previousPage('barabanov')" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors text-sm">
                                <i class="fas fa-chevron-left"></i> Назад
                            </button>
                            <button onclick="nextPage('barabanov')" class="px-3 py-1 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors text-sm">
                                Вперед <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="p-4 flex-1 overflow-y-auto">
                        <div id="barabanov-gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Works will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Фларик Ахметов Gallery -->
    <div id="flo-gallery" class="gallery-modal fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden">
            <div class="bg-gradient-to-r from-emerald-500 to-teal-500 text-white p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold">Фларик - Мастер орнаментальной, полинезийской и борнео татуировки</h2>
                <button onclick="closeMasterGallery('flo')" class="text-white hover:text-gray-300 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Main Content Layout -->
            <div class="flex flex-col lg:flex-row h-full">
                <!-- Master Info Section - Left Side -->
                <div class="lg:w-1/3 bg-gray-50 p-4 border-r">
                    <div class="text-center mb-4">
                        <div class="w-24 h-24 mx-auto mb-3 rounded-full overflow-hidden border-4 border-white shadow-lg">
                            <img src="gallery/flo/master-photo.jpg" alt="Фларик Ахметов" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-lg font-bold text-gray-800">Фларик Ахметов</h3>
                        <p class="text-emerald-600 font-semibold text-sm">Орнаментальная, Полинезийская, Борнео татуировка</p>
                        <p class="text-gray-600 text-sm">10+ лет опыта</p>
                        <span class="bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-3 py-1 rounded-full text-xs font-semibold">🏛️ Резидент студии</span>
                    </div>
                    
                    <div class="text-sm text-gray-700 space-y-3">
                        <p><strong>Специализация:</strong> Орнаментал, полинезия, борнео</p>
                        <p><strong>Опыт работы:</strong> 10+ лет</p>
                        <p><strong>Стили:</strong> Орнаментальная, полинезийская, борнео татуировка</p>
                        
                        <div class="mt-4">
                            <h4 class="font-semibold text-gray-800 mb-2">О мастере:</h4>
                            <p class="text-gray-600 text-xs leading-relaxed">
                                Фларик Ахметов - опытный мастер традиционных стилей татуировки с более чем 10-летним стажем. 
                                Специализируется на орнаментальной, полинезийской и борнео татуировке. 
                                Его работы отличаются глубоким пониманием культурных традиций, точностью исполнения 
                                и уважением к историческим корням каждого стиля. Фларик создаёт татуировки, 
                                которые несут в себе сакральный смысл и культурную ценность.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Gallery Section - Right Side -->
                <div class="lg:w-2/3 flex flex-col">
                    <!-- Gallery Controls -->
                    <div class="bg-white p-3 border-b flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <span class="text-gray-600">Работы:</span>
                            <span id="flo-current-page" class="font-bold text-emerald-600">1</span>
                            <span class="text-gray-400">из</span>
                            <span id="flo-total-pages" class="font-bold text-gray-600">1</span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="previousPage('flo')" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors text-sm">
                                <i class="fas fa-chevron-left"></i> Назад
                            </button>
                            <button onclick="nextPage('flo')" class="px-3 py-1 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg transition-colors text-sm">
                                Вперед <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="p-4 flex-1 overflow-y-auto">
                        <div id="flo-gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Works will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Михаил Атласов Gallery -->
    <div id="atlasov-gallery" class="gallery-modal fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden">
            <div class="bg-gradient-to-r from-gray-500 to-slate-500 text-white p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold">Михаил А. - Мастер минималистичной татуировки</h2>
                <button onclick="closeMasterGallery('atlasov')" class="text-white hover:text-gray-300 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Main Content Layout -->
            <div class="flex flex-col lg:flex-row h-full">
                <!-- Master Info Section - Left Side -->
                <div class="lg:w-1/3 bg-gray-50 p-4 border-r">
                    <div class="text-center mb-4">
                        <div class="w-24 h-24 mx-auto mb-3 rounded-full overflow-hidden border-4 border-white shadow-lg">
                            <img src="gallery/atlasov/master-photo.jpg" alt="Михаил Атласов" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-lg font-bold text-gray-800">Михаил Атласов</h3>
                        <p class="text-gray-600 font-semibold text-sm">Минималистичная татуировка</p>
                        <p class="text-gray-600 text-sm">10+ лет опыта</p>
                        <span class="bg-gradient-to-r from-gray-500 to-slate-500 text-white px-3 py-1 rounded-full text-xs font-semibold">🏛️ Резидент студии</span>
                    </div>
                    
                    <div class="text-sm text-gray-700 space-y-3">
                        <p><strong>Специализация:</strong> Минималистичная татуировка</p>
                        <p><strong>Опыт работы:</strong> 10+ лет</p>
                        <p><strong>Стили:</strong> Минимализм, геометрия, линейная графика, черно-белое</p>
                        
                        <div class="mt-4">
                            <h4 class="font-semibold text-gray-800 mb-2">О мастере:</h4>
                            <p class="text-gray-600 text-xs leading-relaxed">
                                Михаил Атласов - опытный мастер минималистичной татуировки с более чем 10-летним стажем. 
                                Специализируется на создании чистых, элегантных работ в стиле минимализм. 
                                Его работы отличаются точными линиями, продуманной композицией и философией "меньше - значит больше". 
                                Михаил создаёт татуировки, которые остаются актуальными и красивыми на протяжении многих лет, 
                                сочетая простоту форм с глубоким смыслом.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Gallery Section - Right Side -->
                <div class="lg:w-2/3 flex flex-col">
                    <!-- Gallery Controls -->
                    <div class="bg-white p-3 border-b flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <span class="text-gray-600">Работы:</span>
                            <span id="atlasov-current-page" class="font-bold text-gray-600">1</span>
                            <span class="text-gray-400">из</span>
                            <span id="atlasov-total-pages" class="font-bold text-gray-600">1</span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="previousPage('atlasov')" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors text-sm">
                                <i class="fas fa-chevron-left"></i> Назад
                            </button>
                            <button onclick="nextPage('atlasov')" class="px-3 py-1 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-colors text-sm">
                                Вперед <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="p-4 flex-1 overflow-y-auto">
                        <div id="atlasov-gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Works will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Лейла Gallery -->
    <div id="leyla-gallery" class="gallery-modal fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[85vh] overflow-hidden">
            <div class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white p-6 flex justify-between items-center">
                <h2 class="text-xl font-bold">Лейла - Мастер орнаментальной татуировки</h2>
                <button onclick="closeMasterGallery('leyla')" class="text-white hover:text-gray-300 text-3xl font-bold">&times;</button>
            </div>
            
            <!-- Main Content Layout -->
            <div class="flex flex-col lg:flex-row h-full">
                <!-- Master Info Section - Left Side -->
                <div class="lg:w-1/3 bg-gray-50 p-4 border-r">
                    <div class="text-center mb-4">
                        <div class="w-24 h-24 mx-auto mb-3 rounded-full overflow-hidden border-4 border-white shadow-lg">
                            <img src="gallery/leyla/master-photo.jpg" alt="Лейла" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-lg font-bold text-gray-800">Лейла</h3>
                        <p class="text-indigo-600 font-semibold text-sm">Орнаментальная татуировка</p>
                        <p class="text-gray-600 text-sm">5 лет опыта</p>
                        <span class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-3 py-1 rounded-full text-xs font-semibold">🏛️ Резидент студии</span>
                    </div>
                    
                    <div class="text-sm text-gray-700 space-y-3">
                        <p><strong>Специализация:</strong> Орнаментальная татуировка</p>
                        <p><strong>Опыт работы:</strong> 5 лет</p>
                        <p><strong>Стили:</strong> Орнаментал, геометрия, черно-белое, линейная графика</p>
                        
                        <div class="mt-4">
                            <h4 class="font-semibold text-gray-800 mb-2">О мастере:</h4>
                            <p class="text-gray-600 text-xs leading-relaxed">
                                Лейла - талантливый мастер орнаментальной татуировки с 5-летним опытом работы. 
                                Специализируется на создании сложных геометрических композиций и орнаментальных узоров. 
                                Её работы отличаются точностью линий, продуманной симметрией и эстетическим совершенством. 
                                Лейла создаёт татуировки, которые сочетают в себе современный подход с традиционными 
                                орнаментальными мотивами, создавая уникальные и стильные работы.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- Gallery Section - Right Side -->
                <div class="lg:w-2/3 flex flex-col">
                    <!-- Gallery Controls -->
                    <div class="bg-white p-3 border-b flex justify-between items-center">
                        <div class="flex items-center gap-4">
                            <span class="text-gray-600">Работы:</span>
                            <span id="leyla-current-page" class="font-bold text-indigo-600">1</span>
                            <span class="text-gray-400">из</span>
                            <span id="leyla-total-pages" class="font-bold text-gray-600">1</span>
                        </div>
                        <div class="flex gap-2">
                            <button onclick="previousPage('leyla')" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors text-sm">
                                <i class="fas fa-chevron-left"></i> Назад
                            </button>
                            <button onclick="nextPage('leyla')" class="px-3 py-1 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors text-sm">
                                Вперед <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    
                    <!-- Gallery Grid -->
                    <div class="p-4 flex-1 overflow-y-auto">
                        <div id="leyla-gallery-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3">
                            <!-- Works will be loaded dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Booking Modal -->
    <div id="booking-modal" class="fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-2">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[95vh] overflow-hidden">
            <div class="bg-gradient-to-r from-purple-500 to-orange-500 text-white p-4 flex justify-between items-center">
                <h2 class="text-lg font-bold">Запись к мастеру</h2>
                <button onclick="closeBookingModal()" class="text-white hover:text-gray-300 text-2xl font-bold">&times;</button>
            </div>
            
            <div class="p-4 max-h-[85vh] overflow-y-auto">
                <form id="booking-form" class="space-y-4">
                    <!-- Master Name (Auto-filled) -->
                    <div>
                        <label class="block text-xs font-medium text-gray-700 mb-1">Мастер</label>
                        <input type="text" id="master-name" readonly class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700 font-semibold text-sm">
                    </div>
                    
                    <!-- Client Name and Phone in one row -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Ваше имя *</label>
                            <input type="text" id="client-name" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-sm" style="pointer-events: auto; user-select: text;" autocomplete="name">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Телефон *</label>
                            <input type="tel" id="client-phone" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-sm" style="pointer-events: auto; user-select: text;" autocomplete="tel">
                        </div>
                    </div>
                    
                    <!-- Email -->
                    <div>
                        <label class="block text-xs font-medium text-gray-700 mb-1">Email</label>
                        <input type="email" id="client-email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-colors text-sm" style="pointer-events: auto; user-select: text;" autocomplete="email">
                    </div>
                    
                    <!-- Tattoo Description -->
                    <div>
                        <label class="block text-xs font-medium text-gray-700 mb-1">Описание желаемой татуировки *</label>
                        <textarea id="tattoo-description" required rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-purple-500 transition-colors resize-none text-sm" placeholder="Опишите ваши пожелания, размер, место на теле, стиль..." style="pointer-events: auto; user-select: text;"></textarea>
                    </div>
                    
                    <!-- File Upload -->
                    <div>
                        <label class="block text-xs font-medium text-gray-700 mb-1">Загрузить изображения (до 10 файлов)</label>
                        <div id="file-drop-zone" class="border-2 border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-purple-500 transition-colors">
                            <input type="file" id="tattoo-images" multiple accept="image/*" class="hidden">
                            <label for="tattoo-images" class="cursor-pointer">
                                <i class="fas fa-cloud-upload-alt text-2xl text-gray-400 mb-1"></i>
                                <p class="text-gray-600 text-sm">Нажмите для выбора файлов или перетащите сюда</p>
                                <p class="text-xs text-gray-500">PNG, JPG, JPEG до 10MB</p>
                            </label>
                        </div>
                        <div id="file-list" class="mt-2 space-y-1 max-h-20 overflow-y-auto"></div>
                    </div>
                    
                    <!-- Test Button -->
                    <div class="bg-yellow-100 p-2 rounded-lg">
                        <button type="button" onclick="testFormFields()" class="w-full bg-yellow-500 text-white px-3 py-2 rounded-lg hover:bg-yellow-600 transition-all duration-200 text-sm">
                            🧪 Тест полей формы
                        </button>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="space-y-2">
                        <button type="submit" class="w-full bg-gradient-to-r from-purple-500 to-orange-500 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-orange-600 transition-all duration-200 text-sm font-medium">
                            <i class="fas fa-paper-plane mr-1"></i>Отправить заявку
                        </button>
                        <div class="grid grid-cols-2 gap-2">
                            <button type="button" onclick="openTelegram()" class="bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200 text-sm">
                                <i class="fab fa-telegram mr-1"></i>Telegram
                            </button>
                            <button type="button" onclick="openWhatsApp()" class="bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition-all duration-200 text-sm">
                                <i class="fab fa-whatsapp mr-1"></i>WhatsApp
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Waiting List Modal -->
    <div id="waiting-list-modal" class="fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-2">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[95vh] overflow-hidden">
            <div class="bg-gradient-to-r from-indigo-500 to-purple-500 text-white p-4 flex justify-between items-center">
                <h2 class="text-lg font-bold">Запись в лист ожидания</h2>
                <button onclick="closeWaitingListModal()" class="text-white hover:text-gray-300 text-2xl font-bold">&times;</button>
            </div>
            
            <div class="p-4 max-h-[85vh] overflow-y-auto">
                <form id="waiting-list-form" class="space-y-4">
                    <!-- Master Name (Auto-filled) -->
                    <div>
                        <label class="block text-xs font-medium text-gray-700 mb-1">Мастер</label>
                        <input type="text" id="waiting-master-name" readonly class="w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-700 font-semibold text-sm">
                    </div>
                    
                    <!-- Client Name and Phone in one row -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Ваше имя *</label>
                            <input type="text" id="waiting-client-name" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors text-sm" style="pointer-events: auto; user-select: text;" autocomplete="name">
                        </div>
                        <div>
                            <label class="block text-xs font-medium text-gray-700 mb-1">Телефон *</label>
                            <input type="tel" id="waiting-client-phone" required class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors text-sm" style="pointer-events: auto; user-select: text;" autocomplete="tel">
                        </div>
                    </div>
                    
                    <!-- Email -->
                    <div>
                        <label class="block text-xs font-medium text-gray-700 mb-1">Email</label>
                        <input type="email" id="waiting-client-email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors text-sm" style="pointer-events: auto; user-select: text;" autocomplete="email">
                    </div>
                    
                    <!-- Tattoo Description -->
                    <div>
                        <label class="block text-xs font-medium text-gray-700 mb-1">Описание желаемой татуировки *</label>
                        <textarea id="waiting-tattoo-description" required rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 transition-colors resize-none text-sm" placeholder="Опишите ваши пожелания, размер, место на теле, стиль..." style="pointer-events: auto; user-select: text;"></textarea>
                    </div>
                    
                    <!-- File Upload -->
                    <div>
                        <label class="block text-xs font-medium text-gray-700 mb-1">Загрузить изображения (до 10 файлов)</label>
                        <div id="waiting-file-drop-zone" class="border-2 border-dashed border-gray-300 rounded-lg p-3 text-center hover:border-indigo-500 transition-colors">
                            <input type="file" id="waiting-tattoo-images" multiple accept="image/*" class="hidden">
                            <label for="waiting-tattoo-images" class="cursor-pointer">
                                <i class="fas fa-cloud-upload-alt text-2xl text-gray-400 mb-1"></i>
                                <p class="text-gray-600 text-sm">Нажмите для выбора файлов или перетащите сюда</p>
                                <p class="text-xs text-gray-500">PNG, JPG, JPEG до 10MB</p>
                            </label>
                        </div>
                        <div id="waiting-file-list" class="mt-2 space-y-1 max-h-20 overflow-y-auto"></div>
                    </div>
                    
                    <!-- Info about waiting list -->
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <p class="text-blue-800 text-xs">
                            <i class="fas fa-info-circle mr-1"></i>
                            <strong>Лист ожидания:</strong> Мы уведомим вас, когда мастер будет доступен для записи. 
                            Обычно это происходит за 1-2 недели до его приезда.
                        </p>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="space-y-2">
                        <button type="submit" class="w-full bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2 rounded-lg hover:from-indigo-600 hover:to-purple-600 transition-all duration-200 text-sm font-medium">
                            <i class="fas fa-list mr-1"></i>Записаться в лист ожидания
                        </button>
                        <div class="grid grid-cols-2 gap-2">
                            <button type="button" onclick="openWaitingListTelegram()" class="bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200 text-sm">
                                <i class="fab fa-telegram mr-1"></i>Telegram
                            </button>
                            <button type="button" onclick="openWaitingListWhatsApp()" class="bg-green-500 text-white px-3 py-2 rounded-lg hover:bg-green-600 transition-all duration-200 text-sm">
                                <i class="fab fa-whatsapp mr-1"></i>WhatsApp
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox-modal" class="fixed inset-0 bg-black/95 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
        <div class="relative max-w-7xl max-h-[95vh] w-full h-full flex items-center justify-center">
            <!-- Close button -->
            <button onclick="closeLightbox()" class="absolute top-4 right-4 z-10 text-white hover:text-gray-300 text-4xl font-bold bg-black/50 rounded-full w-12 h-12 flex items-center justify-center">
                &times;
            </button>
            
            <!-- Previous button -->
            <button id="lightbox-prev-btn" onclick="previousLightboxImage()" class="absolute left-4 top-1/2 transform -translate-y-1/2 z-10 text-white hover:text-gray-300 text-3xl font-bold bg-black/50 rounded-full w-12 h-12 flex items-center justify-center hidden">
                <i class="fas fa-chevron-left"></i>
            </button>
            
            <!-- Next button -->
            <button id="lightbox-next-btn" onclick="nextLightboxImage()" class="absolute right-4 top-1/2 transform -translate-y-1/2 z-10 text-white hover:text-gray-300 text-3xl font-bold bg-black/50 rounded-full w-12 h-12 flex items-center justify-center hidden">
                <i class="fas fa-chevron-right"></i>
            </button>
            
            <!-- Image container -->
            <div class="relative w-full h-full flex items-center justify-center">
                <img id="lightbox-image" src="" alt="" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl">
            </div>
            
            <!-- Image info -->
            <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-lg text-center">
                <div id="lightbox-title" class="text-lg font-semibold"></div>
                <div id="lightbox-description" class="text-sm text-gray-300"></div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
    
    <!-- FAQ Fallback Script -->
    <script>
        // Fallback FAQ initialization
        function initFAQFallback() {
            const faqItems = document.querySelectorAll('.faq-item');
            console.log('FAQ fallback: Found', faqItems.length, 'FAQ items');
            
            faqItems.forEach((item, index) => {
                const question = item.querySelector('.faq-question');
                const answer = item.querySelector('.faq-answer');
                const icon = item.querySelector('.faq-icon');
                
                if (question && answer && icon) {
                    question.addEventListener('click', function(e) {
                        e.preventDefault();
                        console.log('FAQ clicked:', index + 1);
                        
                        const isOpen = !answer.classList.contains('hidden');
                        
                        // Close all other items
                        faqItems.forEach((otherItem, otherIndex) => {
                            if (otherIndex !== index) {
                                const otherAnswer = otherItem.querySelector('.faq-answer');
                                const otherIcon = otherItem.querySelector('.faq-icon');
                                if (otherAnswer && otherIcon) {
                                    otherAnswer.classList.add('hidden');
                                    otherIcon.style.transform = 'rotate(0deg)';
                                }
                            }
                        });
                        
                        // Toggle current item
                        if (isOpen) {
                            answer.classList.add('hidden');
                            icon.style.transform = 'rotate(0deg)';
                        } else {
                            answer.classList.remove('hidden');
                            icon.style.transform = 'rotate(180deg)';
                        }
                    });
                }
            });
        }
        
        // Initialize FAQ when page loads
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initFAQFallback);
        } else {
            initFAQFallback();
        }
    </script>

</body>
</html>
